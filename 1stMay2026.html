<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Wedding - Darshna & Michael - May 1st, 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@300;400;500;600;700&family=Tangerine&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Lora', serif;
            line-height: 1.6;
            color: #000000;
            background: linear-gradient(135deg, #f5e6d3 0%, #f8f4f2 50%, #fdeee6 100%);
            min-height: 100vh;
        }
        
        /* Typography - Tangerine for headings */
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Tangerine', cursive;
        }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        
        /* Header */
        .header {
            background: #EEBDAA;
            color: white;
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .nav-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .menu-toggle {
            background: #EEBDAA;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
        }
        
        nav {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(248, 244, 242, 0.98);
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: none;
        }
        
        nav.active { display: block; }
        
        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 15px 0;
        }
        
        nav li { margin: 0 15px; }
        
        nav a {
            color: #EEBDAA;
            text-decoration: none;
            font-weight: 500;
            font-size: 1rem;
        }
        
        nav a:hover { opacity: 0.8; }
        
        /* Main Content */
        .main-content {
            display: grid;
            grid-template-columns: 60% 40%;
            min-height: calc(100vh - 80px);
        }
        
        .photo-section {
            position: sticky;
            top: 80px;
            height: calc(100vh - 80px);
            overflow: hidden;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .photo-section img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 0.5s ease;
        }
        
        .content-flow { background: white; }
        
        .content-section {
            min-height: 100vh;
            padding: 4rem 3rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            border-bottom: 1px solid #eee;
        }
        
        .content-section:last-child { border-bottom: none; }
        
        .content-section h2 {
            font-family: 'Tangerine', cursive;
            font-size: 2.5rem;
            color: #000000;
            margin-bottom: 2rem;
        }
        
        .content-section h3 {
            font-family: 'Tangerine', cursive;
            font-size: 1.8rem;
            color: #EEBDAA;
            margin: 2rem 0 1rem 0;
        }
        
        .content-section h4 {
            font-family: 'Tangerine', cursive;
            color: #EEBDAA;
        }
        
        .content-section p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
            color: #000000;
        }
        
        /* Mobile photos */
        .mobile-section-photo {
            display: none;
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        /* Hero Section */
        .hero-content {
            text-align: center;
            background: rgba(255,255,255,0.9);
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }
        
        .hero-content h1 {
            font-family: 'Tangerine', cursive;
            font-size: 4rem;
            color: #000000;
            margin-bottom: 1rem;
        }
        
        .hero-content .date {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            color: #000000;
            font-weight: 500;
        }
        
        .hero-content .venue {
            font-size: 1.4rem;
            margin-bottom: 2rem;
            color: #000000;
        }
        
        .countdown-box {
            background: rgba(244, 122, 67, 0.1);
            border: 2px solid #EEBDAA;
            padding: 1.5rem 2rem;
            border-radius: 15px;
            display: inline-block;
        }
        
        .countdown-text {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: #000000;
        }
        
        .countdown-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #000000;
        }
        
        /* Story Section */
        .story-ending {
            font-size: 1.2rem;
            color: #EEBDAA;
            font-weight: 600;
            text-align: center;
            padding: 1.5rem;
            background: linear-gradient(135deg, #faf7f5 0%, #f8f4f2 100%);
            border-radius: 10px;
            border-left: 4px solid #EEBDAA;
            margin-top: 2rem;
        }
        
        /* Timeline */
        .timeline-item {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            display: flex;
            align-items: flex-start;
            gap: 1.5rem;
            border: 2px solid #f4d4ba;
        }
        
        .timeline-content h4 {
            font-family: 'Tangerine', cursive;
            font-size: 1.4rem;
            color: #EEBDAA;
            margin-bottom: 0.5rem;
        }
        
        .timeline-content p {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #000000;
            margin: 0;
        }
        
        .timeline-content a { color: #EEBDAA; text-decoration: underline; }
        
        /* Content Cards */
        .content-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            border: 2px solid #f4d4ba;
        }
        
        .content-card h3 {
            font-family: 'Tangerine', cursive;
            font-size: 1.8rem;
            color: #EEBDAA;
            margin-bottom: 1rem;
        }
        
        /* Accommodations Grid */
        .accommodation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .accommodation-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            text-align: center;
            border: 2px solid #f4d4ba;
        }
        
        .accommodation-card h4 {
            font-family: 'Tangerine', cursive;
            font-size: 1.5rem;
            color: #EEBDAA;
            margin-bottom: 1rem;
        }
        
        .accommodation-card .website {
            font-size: 1rem;
            color: #EEBDAA;
            margin-bottom: 0.5rem;
        }
        
        .accommodation-card .website a { color: #EEBDAA; text-decoration: underline; }
        
        .accommodation-card .distance {
            font-size: 1rem;
            color: #666;
            font-style: italic;
        }
        
        /* Registry */
        .registry-content {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            border: 2px solid #f4d4ba;
        }
        
        .registry-link {
            background: #EEBDAA;
            color: white;
            padding: 1rem 2rem;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            display: inline-block;
            margin-top: 1rem;
            transition: all 0.3s ease;
        }
        
        .registry-link:hover {
            background: #e8a87c;
            transform: translateY(-2px);
        }
        
        /* RSVP */
        .rsvp-deadline {
            text-align: center;
            font-size: 1.1rem;
            margin-bottom: 2rem;
            font-weight: 500;
            color: #000000;
        }
        
        .rsvp-wizard {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
            border: 2px solid #f4d4ba;
        }
        
        .wizard-step {
            display: none;
        }
        
        .wizard-step.active {
            display: block;
        }
        
        .step-title {
            font-family: 'Tangerine', cursive;
            font-size: 2rem;
            color: #EEBDAA;
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #EEBDAA;
            font-weight: 600;
        }
        
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #f4d4ba;
            border-radius: 8px;
            font-family: 'Lora', serif;
        }
        
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #EEBDAA;
        }
        
        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
            margin-top: 0.5rem;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .checkbox-item input[type="checkbox"] {
            width: auto;
            margin: 0;
        }
        
        .checkbox-item label {
            margin: 0;
            font-weight: normal;
            color: #000;
        }
        
        .other-dietary-field {
            margin-top: 0.5rem;
            display: none;
        }
        
        .other-dietary-field.active {
            display: block;
        }
        
        .attendance-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .attendance-btn {
            padding: 1.5rem;
            border: 2px solid #f4d4ba;
            border-radius: 15px;
            background: white;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .attendance-btn:hover {
            border-color: #EEBDAA;
            background: #faf7f5;
        }
        
        .attendance-btn.selected {
            border-color: #EEBDAA;
            background: #EEBDAA;
            color: white;
        }
        
        .attendance-btn.accept {
            color: #2d5a2d;
        }
        
        .attendance-btn.decline {
            color: #8b4513;
        }
        
        .menu-options {
            display: grid;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .menu-option {
            padding: 1rem;
            border: 2px solid #f4d4ba;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .menu-option:hover {
            border-color: #EEBDAA;
            background: #faf7f5;
        }
        
        .menu-option.selected {
            border-color: #EEBDAA;
            background: #EEBDAA;
            color: white;
        }
        
        .dessert-notice {
            background: #faf7f5;
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid #EEBDAA;
            margin-top: 1rem;
        }
        
        .wizard-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
        }
        
        .btn {
            background: linear-gradient(135deg, #EEBDAA 0%, #e8a87c 100%);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Lora', serif;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-secondary {
            background: #ccc;
            color: #666;
        }
        
        .btn-secondary:hover {
            background: #bbb;
        }
        
        .person-indicator {
            text-align: center;
            margin-bottom: 2rem;
            padding: 1rem;
            background: #faf7f5;
            border-radius: 10px;
            border-left: 4px solid #EEBDAA;
        }
        
        /* Success/Error Messages */
        .message {
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            text-align: center;
            font-weight: 600;
        }
        
        .message.success {
            background-color: #d4f7d4;
            color: #2d5a2d;
            border: 2px solid #90d690;
        }
        
        .message.error {
            background-color: #f7d4d4;
            color: #5a2d2d;
            border: 2px solid #d69090;
        }
        
        .hidden {
            display: none;
        }
        
        /* Q&A */
        .qa-item {
            background: transparent;
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            border: 2px solid #EEBDAA;
        }
        
        .qa-question {
            font-family: 'Tangerine', cursive;
            font-size: 1.4rem;
            color: #EEBDAA;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        
        .qa-answer {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #000000;
        }
        
        .qa-answer a { color: #EEBDAA; text-decoration: underline; }
        .qa-answer em { font-style: italic; color: #666; }
        
        /* Footer */
        .footer {
            background: #EEBDAA;
            color: white;
            text-align: center;
            padding: 3rem 0;
            margin-top: 3rem;
        }
        
        .footer-content {
            font-size: 1.2rem;
            font-weight: 500;
            line-height: 2;
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .photo-section { display: none !important; }
            .mobile-section-photo { display: block !important; }
            
            .content-section {
                padding: 2rem 1.5rem;
                min-height: auto;
            }
            
            .hero-content h1 { font-size: 2.8rem; }
            .content-section h2 { font-size: 2rem; }
            .content-section h3 { font-size: 1.5rem; }
            
            nav ul {
                flex-direction: column;
                text-align: center;
                gap: 0.5rem;
            }
            
            .accommodation-grid { grid-template-columns: 1fr; }
            
            .rsvp-wizard { padding: 2rem; margin: 0 1rem; }
            
            .attendance-buttons { grid-template-columns: 1fr; }
        }
        
        /* Smooth scrolling */
        html { scroll-behavior: smooth; }
    </style>
</head>
<body>
    <div class="header">
        <div class="container nav-container">
            <button class="menu-toggle" onclick="toggleMenu()">Menu</button>
            <nav id="mainNav">
                <ul>
                    <li><a href="#home" onclick="scrollToSection('home')">Home</a></li>
                    <li><a href="#story" onclick="scrollToSection('story')">Our story</a></li>
                    <li><a href="#order" onclick="scrollToSection('order')">Order of the Day</a></li>
                    <li><a href="#travel" onclick="scrollToSection('travel')">Travel</a></li>
                    <li><a href="#accommodations" onclick="scrollToSection('accommodations')">Accommodations</a></li>
                    <li><a href="#registry" onclick="scrollToSection('registry')">Registry</a></li>
                    <li><a href="#rsvp" onclick="scrollToSection('rsvp')">RSVP</a></li>
                    <li><a href="#qa" onclick="scrollToSection('qa')">Q & A</a></li>
                </ul>
            </nav>
        </div>
    </div>

    <div class="main-content">
        <div class="photo-section">
            <img id="mainPhoto" src="images/english-home.jpg" alt="English Wedding" onerror="this.src='images/english-home.jpg'">
        </div>

        <div class="content-flow">
            <!-- Home Section -->
            <div id="home" class="content-section" data-photo="images/english-home.jpg">
                <img class="mobile-section-photo" src="images/english-home.jpg" alt="English Wedding Home" onerror="this.src='images/english-home.jpg'">
                <div class="hero-content">
                    <h1>Darshna & Michael</h1>
                    <div class="date">1st May 2026</div>
                    <div class="venue">Elmore Court, Cotswolds</div>
                    <div class="countdown-box">
                        <div class="countdown-text">Days until our wedding</div>
                        <div class="countdown-number" id="countdown">Loading...</div>
                    </div>
                </div>
            </div>

            <!-- Story Section -->
            <div id="story" class="content-section" data-photo="images/english-story.jpg">
                <img class="mobile-section-photo" src="images/english-story.jpg" alt="Our Story" onerror="this.src='images/english-home.jpg'">
                <h2>Our story</h2>
                <h3>How We Met</h3>
                <p>Michael spotted Darshna at a summer house party and did... absolutely nothing. Lucky for them, fast forward four months to a NYE house party (that neither of them planned to attend), their paths crossed again and they spent hours talking away.</p>
                
                <p>Like a true gentleman, he walked her to the station. And like a true millennial, he didn't ask for her number but slid into her Instagram DMs the next day.</p>
                
                <h3>The First Date</h3>
                <p>Michael chose the elegant Bluebird Chelsea for their first date, clearly pulling out all the stops! Still recovering from the flu, Darshna kept disappearing to the ladies' room‚Äîapparently blowing your nose on a first date isn't very romantic. After the 10th time, Michael, with his signature dry humor, told her she may as well take her bag with her if she was planning to make a run for it. That has since changed and now he holds the tissue box for her ‚ù§Ô∏è</p>
                
                <h3>How he proposed</h3>
                <p>Everytime they went on holiday, everyone was convinced this would be the one where they got engaged. So Michael planned a completely secret getaway, not even their families knew.</p>
                
                <p>‚Ä¶But since Darshna is usually the one who plans their trips, she had a sneaking suspicion something was up - especially when Michael mentioned they were going to Lake Como.</p>
                
                <p>One sunny afternoon, they rented a motorboat, packed a bottle of bubbles and lunch, and set off across the sparkling lake. Knowing how much Darshna loves her photos, Michael suggested she head to the front of the boat for some pictures (and of course, they turned out amazing). Whilst she was sitting there, hair swishing in the breeze, he got down on one knee behind her‚Ä¶</p>
                
                <p>What followed was lots of happy video calls, champagne and an impromptu photoshoot back at their apartment high in the mountains - overlooking the beautiful Lake Como where they got engaged.</p>
            </div>

            <!-- Order of the Day Section -->
            <div id="order" class="content-section" data-photo="images/english-orderofday.jpg">
                <img class="mobile-section-photo" src="images/english-orderofday.jpg" alt="Order of the Day" onerror="this.src='images/english-home.jpg'">
                <h2>Order of the Day</h2>
                
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h4>12:30 PM - Guests Arrive</h4>
                        <p>The bar will be open from 12:30pm. Please take your seats by 1pm.</p>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-content">
                        <h4>1:30 PM - Ceremony</h4>
                        <p>Join us for an unplugged ceremony; kindly keep phones on silent and tucked away</p>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-content">
                        <h4>2:00 PM - Reception Drinks & Canapes</h4>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-content">
                        <h4>4:00 PM - Wedding Breakfast & Speeches</h4>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-content">
                        <h4>7:30 PM onwards - The Party Begins!</h4>
                        <p>After our first dance, meet us under the disco ball to celebrate!</p>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-content">
                        <h4>9:00 PM - Evening Food</h4>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-content">
                        <h4>11:59 PM - Farewell & Carriages</h4>
                        <p>The bar closes at midnight. Please arrange transport, we recommend pre-booking a taxi from our <a href="#travel" onclick="scrollToSection('travel')">Travel</a> page</p>
                    </div>
                </div>
            </div>

            <!-- Travel Section -->
            <div id="travel" class="content-section" data-photo="images/english-travel.jpg">
                <img class="mobile-section-photo" src="images/english-travel.jpg" alt="Travel" onerror="this.src='images/english-home.jpg'">
                <h2>Travel</h2>
                <p>There aren't any public transport links to the venue so would recommend booking a taxi ahead of time. There is also a car park available and cars will need to be collected by 10:30am the next day. There are no electric car charging points unfortunately.</p>
                
                <div class="content-card">
                    <h3>Andy Cars</h3>
                    <p><strong>Phone:</strong> 01452 523000</p>
                    <p><strong>Website:</strong> <a href="https://www.andycarsgloucester.co.uk/" target="_blank">https://www.andycarsgloucester.co.uk/</a></p>
                </div>
            </div>

            <!-- Accommodations Section -->
            <div id="accommodations" class="content-section" data-photo="images/english-accommodations.jpg">
                <img class="mobile-section-photo" src="images/english-accommodations.jpg" alt="Accommodations" onerror="this.src='images/english-home.jpg'">
                <h2>Accommodations</h2>
                <p>We've noted a few hotels that are close to the venue and there are also Airbnb options available. We recommend booking in advance!</p>
                
                <div class="accommodation-grid">
                    <div class="accommodation-card">
                        <h4>Holiday Inn Express</h4>
                        <div class="website"><a href="https://www.ihg.com" target="_blank">www.ihg.com</a></div>
                        <div class="distance">3.3 miles from the venue</div>
                    </div>
                    <div class="accommodation-card">
                        <h4>Robinswood Hotel</h4>
                        <div class="website"><a href="https://www.bestwestern.co.uk" target="_blank">www.bestwestern.co.uk</a></div>
                        <div class="distance">5.7 miles from the venue</div>
                    </div>
                    <div class="accommodation-card">
                        <h4>Hatherley Manor</h4>
                        <div class="website"><a href="https://www.hatton-court.co.uk" target="_blank">www.hatton-court.co.uk</a></div>
                        <div class="distance">6.8 miles from the venue</div>
                    </div>
                </div>
            </div>

            <!-- Registry Section -->
            <div id="registry" class="content-section" data-photo="images/english-registry.jpg">
                <img class="mobile-section-photo" src="images/english-registry.jpg" alt="Registry" onerror="this.src='images/english-home.jpg'">
                <h2>Registry</h2>
                <div class="registry-content">
                    <p>Your presence at our wedding is the greatest gift of all üß°</p>
                    <p>If you would like to give us a gift, we are saving for our honeymoon and would be delighted with a contribution. Please use the following link to join us in creating these memories:</p>
                    <a href="https://monzo.me/michaelrose1?h=8kXIbO" target="_blank" class="registry-link">Contribute to Our Honeymoon</a>
                </div>
            </div>

            <!-- RSVP Section -->
            <div id="rsvp" class="content-section" data-photo="images/english-rsvp.jpg">
                <img class="mobile-section-photo" src="images/english-rsvp.jpg" alt="RSVP" onerror="this.src='images/english-home.jpg'">
                <h2>RSVP</h2>
                <div class="rsvp-deadline">Please RSVP by 1st February</div>
                
                <div class="rsvp-wizard" id="rsvpWizard">
                    <div id="successMessage" class="message success hidden">
                        <p>üéâ Thank you for your RSVP! We can't wait to celebrate with you at our English wedding!</p>
                    </div>
                    <div id="errorMessage" class="message error hidden">
                        <p>‚ùå Sorry, there was an error. Please try again or contact us directly.</p>
                    </div>

                    <!-- Step 1: Name and Email -->
                    <div class="wizard-step active" id="step1">
                        <div class="step-title">Enter your details to RSVP</div>
                        <div class="form-group">
                            <label for="submitterName">Your Name *</label>
                            <input type="text" id="submitterName" required>
                        </div>
                        <div class="form-group">
                            <label for="submitterEmail">Your Email Address *</label>
                            <input type="email" id="submitterEmail" required>
                        </div>
                        <div class="wizard-buttons">
                            <div></div>
                            <button class="btn" onclick="nextStep(1)">Next</button>
                        </div>
                    </div>

                    <!-- Dynamic person steps will be inserted here -->
                    <div id="personSteps"></div>

                    <!-- Final step -->
                    <div class="wizard-step" id="finalStep">
                        <div class="step-title">Review & Submit</div>
                        <div id="rsvpSummary"></div>
                        <div class="wizard-buttons">
                            <button class="btn btn-secondary" onclick="startNewRSVP()">Start Over</button>
                            <button class="btn" onclick="submitRSVP()">Submit RSVP</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Q&A Section -->
            <div id="qa" class="content-section" data-photo="images/english-qa.jpg">
                <img class="mobile-section-photo" src="images/english-qa.jpg" alt="Q&A" onerror="this.src='images/english-home.jpg'">
                <h2>Q & A</h2>
                
                <div class="qa-item">
                    <div class="qa-question">What is the RSVP deadline?</div>
                    <div class="qa-answer">Please RSVP by 1st February 2026</div>
                </div>

                <div class="qa-item">
                    <div class="qa-question">What time should I arrive?</div>
                    <div class="qa-answer">Please join us from 12:30 PM (the bar will be open!) and be seated for 1:00PM. The ceremony will begin at 1:30 PM.</div>
                </div>

                <div class="qa-item">
                    <div class="qa-question">Can I bring a plus-one?</div>
                    <div class="qa-answer">We have tried to include everyone we would love to celebrate with and unfortunately we can't accommodate plus-ones</div>
                </div>

                <div class="qa-item">
                    <div class="qa-question">Are children welcome?</div>
                    <div class="qa-answer">We're only including children who are part of the wedding party. While we adore your little ones, we hope you understand and can enjoy a well-deserved night off!</div>
                </div>

                <div class="qa-item">
                    <div class="qa-question">What if I have dietary restrictions?</div>
                    <div class="qa-answer">Please let us know about any dietary requirements when you RSVP, and we'll make sure you're well taken care of!</div>
                </div>

                <div class="qa-item">
                    <div class="qa-question">Can we take pictures with our phones and cameras during the wedding?</div>
                    <div class="qa-answer">We kindly request an unplugged ceremony so please keep phones and cameras tucked away. We will have a professional photographer and videographer throughout the day.<br><br>You are more than welcome to take your own photos and videos before and after the ceremony.<br><br><em>For privacy reasons, some children cannot be shared online. Please refrain from posting any photos of children on social media unless you have parental consent.</em></div>
                </div>

                <div class="qa-item">
                    <div class="qa-question">What is the dress code?</div>
                    <div class="qa-answer">Formal wedding attire please; elegant dresses and sharp suits are perfect! Please avoid white, ivory, cream or orange colours. Heels are very welcome - bring some flats too if you plan to dance the night away!</div>
                </div>

                <div class="qa-item">
                    <div class="qa-question">Where should I stay?</div>
                    <div class="qa-answer">See Accommodations section above for hotel suggestions. There are also plenty of Airbnbs available which we especially recommend if you would like to make a long weekend of it in the Cotswolds</div>
                </div>

                <div class="qa-item">
                    <div class="qa-question">Will there be parking available?</div>
                    <div class="qa-answer">Yes, there is plenty of free parking available at Elmore Court. Cars can be left overnight in a designated area and collected the following morning by 10:30am.</div>
                </div>

                <div class="qa-item">
                    <div class="qa-question">Do I need to book a taxi?</div>
                    <div class="qa-answer">Yes, a taxi should be pre-booked. A list of local taxis can be found on <a href="#travel" onclick="scrollToSection('travel')">Travel</a></div>
                </div>

                <div class="qa-item">
                    <div class="qa-question">Whom should I contact with questions?</div>
                    <div class="qa-answer">If you have any questions that haven't been answered here, please call/text Darshna or Michael or email us at shahrosewedding@gmail.com</div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <div class="footer-content">
            <div>Darshna & Michael</div>
            <div>1st May 2026</div>
            <div>Elmore Court, Cotswolds</div>
        </div>
    </div>

    <script>
        // RSVP Variables
        let currentPersonIndex = 0;
        let allRsvpResponses = []; // Store all people's responses
        let currentPersonResponse = {}; // Current person being processed

        // Menu functionality
        function toggleMenu() {
            const nav = document.getElementById('mainNav');
            nav.classList.toggle('active');
        }

        // Scroll to section
        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                const headerHeight = document.querySelector('.header').offsetHeight;
                const targetPosition = element.offsetTop - headerHeight;
                
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
                
                // Update photo
                const photoElement = element.getAttribute('data-photo');
                if (photoElement) {
                    const photoImg = document.getElementById('mainPhoto');
                    if (photoImg) {
                        setTimeout(() => {
                            photoImg.src = photoElement;
                        }, 300);
                    }
                }
            }
            
            // Close menu
            document.getElementById('mainNav').classList.remove('active');
        }

        // Photo changing on scroll - IMPROVED VERSION
        function setupPhotoChanging() {
            const photoImg = document.getElementById('mainPhoto');
            const sections = document.querySelectorAll('.content-section[data-photo]');
            
            if (!photoImg || sections.length === 0) return;
            
            // Pre-load all images
            sections.forEach(section => {
                const photoSrc = section.getAttribute('data-photo');
                if (photoSrc) {
                    const img = new Image();
                    img.src = photoSrc;
                }
            });
            
            // Function to update photo based on scroll position
            function updatePhotoOnScroll() {
                let currentSection = null;
                let maxVisibility = 0;
                
                sections.forEach(section => {
                    const rect = section.getBoundingClientRect();
                    const viewportHeight = window.innerHeight;
                    
                    // Calculate how much of the section is visible
                    const visibleTop = Math.max(0, rect.top);
                    const visibleBottom = Math.min(viewportHeight, rect.bottom);
                    const visibleHeight = Math.max(0, visibleBottom - visibleTop);
                    const visibilityRatio = visibleHeight / viewportHeight;
                    
                    // Use the section with the most visibility
                    if (visibilityRatio > maxVisibility) {
                        maxVisibility = visibilityRatio;
                        currentSection = section;
                    }
                });
                
                if (currentSection && maxVisibility > 0.2) {  // At least 20% visible
                    const newPhoto = currentSection.getAttribute('data-photo');
                    if (newPhoto && photoImg.src.indexOf(newPhoto) === -1) {
                        // Test if image exists before changing
                        const testImg = new Image();
                        testImg.onload = function() {
                            photoImg.style.opacity = '0';
                            setTimeout(() => {
                                photoImg.src = newPhoto;
                                photoImg.style.opacity = '1';
                            }, 300);
                        };
                        testImg.onerror = function() {
                            photoImg.src = 'images/english-home.jpg';
                        };
                        testImg.src = newPhoto;
                    }
                }
            }
            
            // Add smooth transition to photo
            photoImg.style.transition = 'opacity 0.3s ease';
            
            // Listen to scroll events with throttling
            let ticking = false;
            window.addEventListener('scroll', function() {
                if (!ticking) {
                    window.requestAnimationFrame(function() {
                        updatePhotoOnScroll();
                        ticking = false;
                    });
                    ticking = true;
                }
            });
            
            // Initial check
            updatePhotoOnScroll();
        }

        // Countdown timer
        function updateCountdown() {
            const weddingDate = new Date('2026-05-01T00:00:00');
            const now = new Date();
            const difference = weddingDate - now;
            const days = Math.ceil(difference / (1000 * 60 * 60 * 24));
            
            const element = document.getElementById('countdown');
            if (element) {
                element.textContent = days > 0 ? days : '0';
            }
        }

        // RSVP Functions
        function nextStep(step) {
            if (step === 1) {
                const name = document.getElementById('submitterName').value.trim();
                const email = document.getElementById('submitterEmail').value.trim();
                
                if (!name || !email) {
                    alert('Please enter your name and email address');
                    return;
                }
                
                // Start with first person
                currentPersonIndex = 0;
                allRsvpResponses = [];
                startPersonRSVP(name, email);
            }
        }

        function startPersonRSVP(name, email) {
            // Initialize current person response
            currentPersonResponse = {
                name: name,
                email: email,
                attending: null,
                starter: null,
                main: null,
                dessert: 'Sticky toffee pudding, vanilla gelato',
                dietary: [],
                dietaryOther: '',
                declineNote: ''
            };
            
            // Create and show person step
            createCurrentPersonStep();
            showCurrentPersonStep();
        }

        function createCurrentPersonStep() {
            const container = document.getElementById('personSteps');
            container.innerHTML = ''; // Clear previous steps
            
            const stepDiv = document.createElement('div');
            stepDiv.className = 'wizard-step active';
            stepDiv.id = 'currentPersonStep';
            
            stepDiv.innerHTML = `
                <div class="person-indicator">RSVP for: <strong>${currentPersonResponse.name}</strong></div>
                <div class="step-title">Will you be attending?</div>
                <div class="attendance-buttons">
                    <div class="attendance-btn accept" onclick="selectAttendance('accept')">
                        Yes, I can! ü§ó
                    </div>
                    <div class="attendance-btn decline" onclick="selectAttendance('decline')">
                        Sorry I can't make it ‚òπÔ∏è
                    </div>
                </div>
                <div id="acceptQuestions" class="hidden">
                    <div class="form-group">
                        <label>Please select a starter:</label>
                        <div class="menu-options">
                            <div class="menu-option" onclick="selectMenuOption('starter', 'Pan fried sea bass fillet, shaved fennel, dill & tomato cream')">
                                Pan fried sea bass fillet, shaved fennel, dill & tomato cream
                            </div>
                            <div class="menu-option" onclick="selectMenuOption('starter', 'Chickpea panisse, courgette, Kalamata olive & mint salad, tarragon mayonnaise')">
                                Chickpea panisse, courgette, Kalamata olive & mint salad, tarragon mayonnaise
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Please select a main:</label>
                        <div class="menu-options">
                            <div class="menu-option" onclick="selectMenuOption('main', 'Overnight lamb shoulder, chorizo & butterbean stew, harissa yoghurt (on the side)')">
                                Overnight lamb shoulder, chorizo & butterbean stew, harissa yoghurt (on the side)
                            </div>
                            <div class="menu-option" onclick="selectMenuOption('main', 'Fried falafel, Cypriot grain & pomegranate salad, yoghurt & honey')">
                                Fried falafel, Cypriot grain & pomegranate salad, yoghurt & honey
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Dessert:</label>
                        <div class="dessert-notice">
                            <strong>Sticky toffee pudding, vanilla gelato</strong> (included for all guests)
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Any dietary requirements?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="dietary-gluten" value="Gluten free" onchange="updateDietary()">
                                <label for="dietary-gluten">Gluten free</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="dietary-vegan" value="Vegan" onchange="updateDietary()">
                                <label for="dietary-vegan">Vegan</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="dietary-dairy" value="Dairy free" onchange="updateDietary()">
                                <label for="dietary-dairy">Dairy free</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="dietary-other" value="Other" onchange="toggleOtherDietary()">
                                <label for="dietary-other">Other</label>
                            </div>
                        </div>
                        <div id="otherDietaryField" class="other-dietary-field">
                            <input type="text" id="dietaryOtherText" placeholder="Please specify..." onchange="updateDietary()">
                        </div>
                    </div>
                </div>
                <div id="declineQuestions" class="hidden">
                    <div class="form-group">
                        <label for="currentDeclineNote">Would you like to include a note to the couple?</label>
                        <textarea id="currentDeclineNote" rows="3" placeholder="We'll miss you but understand..."></textarea>
                    </div>
                </div>
                <div class="wizard-buttons">
                    <button class="btn btn-secondary" onclick="goBackToInitial()">Previous</button>
                    <button class="btn" onclick="finishCurrentPerson()">Next</button>
                </div>
            `;
            
            container.appendChild(stepDiv);
        }

        function showCurrentPersonStep() {
            // Hide initial step and final step
            document.getElementById('step1').classList.remove('active');
            document.getElementById('finalStep').classList.remove('active');
            
            // Hide add another step if it exists
            const addAnotherStep = document.getElementById('addAnotherStep');
            if (addAnotherStep) {
                addAnotherStep.classList.remove('active');
            }
            
            // Show current person step
            document.getElementById('currentPersonStep').classList.add('active');
        }

        function selectAttendance(type) {
            const acceptBtn = document.querySelector('#currentPersonStep .attendance-btn.accept');
            const declineBtn = document.querySelector('#currentPersonStep .attendance-btn.decline');
            const acceptQuestions = document.getElementById('acceptQuestions');
            const declineQuestions = document.getElementById('declineQuestions');
            
            // Reset buttons
            acceptBtn.classList.remove('selected');
            declineBtn.classList.remove('selected');
            acceptQuestions.classList.add('hidden');
            declineQuestions.classList.add('hidden');
            
            if (type === 'accept') {
                acceptBtn.classList.add('selected');
                acceptQuestions.classList.remove('hidden');
                currentPersonResponse.attending = 'Yes, I can!';
            } else {
                declineBtn.classList.add('selected');
                declineQuestions.classList.remove('hidden');
                currentPersonResponse.attending = 'Sorry I can\'t make it';
            }
        }

        function selectMenuOption(category, option) {
            const allOptions = document.querySelectorAll('#currentPersonStep .menu-option');
            
            // Find the parent container for this category
            const clickedOption = event.target;
            const categoryOptions = Array.from(clickedOption.parentElement.children);
            
            // Remove selected from this category only
            categoryOptions.forEach(opt => opt.classList.remove('selected'));
            clickedOption.classList.add('selected');
            
            currentPersonResponse[category] = option;
        }

        function toggleOtherDietary() {
            const otherCheckbox = document.getElementById('dietary-other');
            const otherField = document.getElementById('otherDietaryField');
            
            if (otherCheckbox.checked) {
                otherField.classList.add('active');
            } else {
                otherField.classList.remove('active');
                document.getElementById('dietaryOtherText').value = '';
            }
            updateDietary();
        }

        function updateDietary() {
            const dietary = [];
            
            if (document.getElementById('dietary-gluten').checked) dietary.push('Gluten free');
            if (document.getElementById('dietary-vegan').checked) dietary.push('Vegan');
            if (document.getElementById('dietary-dairy').checked) dietary.push('Dairy free');
            
            const otherText = document.getElementById('dietaryOtherText').value.trim();
            if (document.getElementById('dietary-other').checked && otherText) {
                dietary.push('Other: ' + otherText);
            }
            
            currentPersonResponse.dietary = dietary;
        }

        function finishCurrentPerson() {
            // Validate current person's response
            if (!currentPersonResponse.attending) {
                alert('Please select whether you will be attending.');
                return;
            }
            
            if (currentPersonResponse.attending === 'Yes, I can!') {
                if (!currentPersonResponse.starter || !currentPersonResponse.main) {
                    alert('Please make all meal selections.');
                    return;
                }
                updateDietary();
            } else {
                currentPersonResponse.declineNote = document.getElementById('currentDeclineNote').value;
            }
            
            // Add current person to responses
            allRsvpResponses.push({...currentPersonResponse});
            
            // Show "Add Another Person" step
            showAddAnotherStep();
        }

        function showAddAnotherStep() {
            // Hide current person step
            document.getElementById('currentPersonStep').classList.remove('active');
            
            // Create or show add another step
            let addAnotherStep = document.getElementById('addAnotherStep');
            if (!addAnotherStep) {
                addAnotherStep = document.createElement('div');
                addAnotherStep.className = 'wizard-step';
                addAnotherStep.id = 'addAnotherStep';
                addAnotherStep.innerHTML = `
                    <div class="step-title">Do you need to RSVP for anyone else?</div>
                    <div class="person-indicator">You have completed ${allRsvpResponses.length} RSVP${allRsvpResponses.length > 1 ? 's' : ''}</div>
                    <div class="attendance-buttons">
                        <div class="attendance-btn accept" onclick="addAnotherPerson()">
                            Yes
                        </div>
                        <div class="attendance-btn decline" onclick="proceedToFinal()">
                            No
                        </div>
                    </div>
                    <div class="wizard-buttons">
                        <div></div>
                        <div></div>
                    </div>
                `;
                document.getElementById('personSteps').appendChild(addAnotherStep);
            }
            
            // Update the counter
            addAnotherStep.querySelector('.person-indicator').innerHTML = 
                `You have completed ${allRsvpResponses.length} RSVP${allRsvpResponses.length > 1 ? 's' : ''}`;
            
            addAnotherStep.classList.add('active');
        }

        function addAnotherPerson() {
            // Get new person details
            const name = prompt('Please enter the name of the person you want to RSVP for:');
            if (!name || !name.trim()) {
                return;
            }
            
            const email = prompt('Please enter their email address (or your email if RSVPing on their behalf):');
            if (!email || !email.trim()) {
                return;
            }
            
            // Start RSVP for new person
            startPersonRSVP(name.trim(), email.trim());
        }

        function proceedToFinal() {
            showFinalStep();
        }

        function goBackToInitial() {
            // Go back to initial step
            document.getElementById('currentPersonStep').classList.remove('active');
            document.getElementById('step1').classList.add('active');
            
            // Reset data
            allRsvpResponses = [];
            currentPersonResponse = {};
        }

        function startNewRSVP() {
            // Reset everything and go back to start
            allRsvpResponses = [];
            currentPersonResponse = {};
            
            // Clear form fields
            document.getElementById('submitterName').value = '';
            document.getElementById('submitterEmail').value = '';
            
            // Hide messages
            document.getElementById('successMessage').classList.add('hidden');
            document.getElementById('errorMessage').classList.add('hidden');
            document.getElementById('rsvpWizard').style.display = 'block';
            
            // Hide final step and show initial step
            document.getElementById('finalStep').classList.remove('active');
            document.getElementById('step1').classList.add('active');
            
            // Clear person steps
            document.getElementById('personSteps').innerHTML = '';
        }

        function showFinalStep() {
            // Hide add another step
            const addAnotherStep = document.getElementById('addAnotherStep');
            if (addAnotherStep) {
                addAnotherStep.classList.remove('active');
            }
            
            // Show final step
            document.getElementById('finalStep').classList.add('active');
            
            // Generate summary
            const summaryDiv = document.getElementById('rsvpSummary');
            let summaryHTML = `<h3>RSVP Summary (${allRsvpResponses.length} ${allRsvpResponses.length > 1 ? 'people' : 'person'})</h3>`;
            
            allRsvpResponses.forEach((response, index) => {
                summaryHTML += `<div style="margin-bottom: 1rem; padding: 1rem; background: #faf7f5; border-radius: 10px;">`;
                summaryHTML += `<strong>${response.name}</strong> - ${response.attending}<br>`;
                summaryHTML += `<em>Email: ${response.email}</em><br>`;
                
                if (response.attending === 'Yes, I can!') {
                    summaryHTML += `<strong>Starter:</strong> ${response.starter}<br>`;
                    summaryHTML += `<strong>Main:</strong> ${response.main}<br>`;
                    summaryHTML += `<strong>Dessert:</strong> ${response.dessert}<br>`;
                    if (response.dietary && response.dietary.length > 0) {
                        summaryHTML += `<strong>Dietary:</strong> ${response.dietary.join(', ')}<br>`;
                    }
                } else if (response.declineNote) {
                    summaryHTML += `<strong>Note:</strong> ${response.declineNote}<br>`;
                }
                
                summaryHTML += `</div>`;
            });
            
            summaryDiv.innerHTML = summaryHTML;
        }

        async function submitRSVP() {
            const submitBtn = event.target;
            submitBtn.disabled = true;
            submitBtn.textContent = 'Submitting...';
            
            try {
                // Submit individual records for each person
                for (let i = 0; i < allRsvpResponses.length; i++) {
                    const response = allRsvpResponses[i];
                    const formData = new FormData();
                    
                    // Add form data
                    formData.append('submission_date', new Date().toISOString());
                    formData.append('submitter_name', allRsvpResponses[0].name);
                    formData.append('submitter_email', allRsvpResponses[0].email);
                    formData.append('wedding_type', 'English Wedding');
                    formData.append('guest_name', response.name);
                    formData.append('guest_email', response.email);
                    formData.append('attending', response.attending);
                    formData.append('starter', response.starter || '');
                    formData.append('main', response.main || '');
                    formData.append('dessert', response.dessert || '');
                    formData.append('dietary', response.dietary.join(', ') || '');
                    formData.append('decline_note', response.declineNote || '');
                    formData.append('total_in_submission', allRsvpResponses.length);
                    formData.append('_subject', `English Wedding RSVP - ${allRsvpResponses[0].name} (${allRsvpResponses.length} ${allRsvpResponses.length > 1 ? 'people' : 'person'})`);
                    formData.append('_captcha', 'false');
                    
                    await fetch('https://formspree.io/f/mqadbbln', {
                        method: 'POST',
                        body: formData,
                        headers: {
                            'Accept': 'application/json'
                        }
                    });
                }
                
                // Show success message
                document.getElementById('successMessage').classList.remove('hidden');
                document.getElementById('rsvpWizard').style.display = 'none';
                
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('errorMessage').classList.remove('hidden');
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Submit RSVP';
            }
        }

        // Close menu when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.header')) {
                document.getElementById('mainNav').classList.remove('active');
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateCountdown();
            setupPhotoChanging();
            setInterval(updateCountdown, 86400000); // Update daily
        });
    </script>
</body>
</html>
