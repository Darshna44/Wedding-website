<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Darshna & Michael - Wedding Celebrations 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=playfair+display:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=style+script:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'playfair+display', serif;
            line-height: 1.6;
            color: #000000;
            background-color: #fefcfb;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6,
        .hero h1,
        .section-title,
        .step-title,
        .story-content h3,
        .story-content h4,
        .content-card h3,
        .accommodation-card h4,
        .registry-card h4,
        .qa-question {
            font-family: 'La Luxes Serif', serif;
        }

        /* Password Protection Screen */
        .password-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f5e6d3 0%, #f8f4f2 50%, #fdeee6 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        }

        .password-form {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }

        .password-form h2 {
            font-family: 'La Luxes Serif', serif;
            color: #8b7355;
            margin-bottom: 1rem;
        }

        .password-form input {
            width: 100%;
            padding: 1rem;
            border: 2px solid #f4d4ba;
            border-radius: 10px;
            font-size: 1rem;
            margin: 1rem 0;
        }

        .password-form button {
            background: linear-gradient(135deg, #e8a87c 0%, #8b7355 100%);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .password-form button:hover {
            transform: translateY(-2px);
        }

        .password-error {
            color: #c41e3a;
            margin-top: 0.5rem;
            display: none;
        }

        /* Wedding Selection Screen */
        .wedding-selector {
            min-height: 100vh;
            background: linear-gradient(135deg, #f5e6d3 0%, #f8f4f2 50%, #fdeee6 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .wedding-selector::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="fplayfair+displayl" patternUnits="userSpaceOnUse" width="20" height="20"><circle cx="10" cy="10" r="1" fill="%23f4d4ba" opacity="0.3"/></pattern></defs><rect width="100" height="100" fill="url(%23fplayfair+displayl)"/></svg>');
            opacity: 0.4;
        }

        .selector-content {
            position: relative;
            z-index: 2;
            max-width: 900px;
            margin: 0 auto;
        }

        .selector-content h1 {
            font-family: 'La Luxes Serif', serif;
            font-size: 4.5rem;
            font-weight: 700;
            color: #8b7355;
            margin-bottom: 1rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .selector-content .ampersand {
            font-size: 3rem;
            color: #e8a87c;
            margin: 0 1rem;
            font-style: italic;
        }

        .selector-content .subtitle {
            font-size: 1.6rem;
            color: #a0896b;
            margin-bottom: 3rem;
            font-weight: 300;
        }

        .selector-content .instructions {
            font-size: 1.2rem;
            color: #8b7355;
            margin-bottom: 3rem;
            background: rgba(255,255,255,0.9);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid #f4d4ba;
        }

        .wedding-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            margin-top: 2rem;
        }

        .wedding-btn {
            background: white;
            border: 3px solid #e8a87c;
            border-radius: 20px;
            padding: 3rem 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: #8b7355;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .wedding-btn:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 50px rgba(0,0,0,0.15);
            border-color: #d4956f;
        }

        .wedding-btn.english {
            border-color: #e8a87c;
        }

        .wedding-btn.english:hover {
            border-color: #d4956f;
            background: linear-gradient(135deg, #faf7f5 0%, #f8f4f2 100%);
        }

        .wedding-btn.indian {
            border-color: #c41e3a;
        }

        .wedding-btn.indian:hover {
            border-color: #a01729;
            background: linear-gradient(135deg, #fef7f7 0%, #fffbf0 100%);
        }

        .wedding-btn.dashboard {
            border-color: #8b7355;
            grid-column: 1 / -1;
            max-width: 400px;
            margin: 2rem auto 0 auto;
        }

        .wedding-btn.dashboard:hover {
            border-color: #6d5a42;
            background: linear-gradient(135deg, #f0f0f0 0%, #e8e8e8 100%);
        }

        .wedding-btn h3 {
            font-family: 'La Luxes Serif', serif;
            font-size: 2.2rem;
            margin-bottom: 1rem;
            color: #8b7355;
        }

        .wedding-btn.indian h3 {
            color: #c41e3a;
        }

        .wedding-btn.dashboard h3 {
            color: #8b7355;
        }

        .wedding-btn .date {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .wedding-btn.english .date {
            color: #e8a87c;
        }

        .wedding-btn.indian .date {
            color: #d4af37;
        }

        .wedding-btn.dashboard .date {
            color: #8b7355;
        }

        .wedding-btn .location {
            font-size: 1.1rem;
            color: #a0896b;
            margin-bottom: 1rem;
        }

        .wedding-btn .details {
            font-size: 0.95rem;
            color: #8b7355;
            font-style: italic;
        }

        /* Individual Wedding Pages */
        .wedding-page {
            display: none;
            min-height: 100vh;
        }

        .wedding-page.active {
            display: block;
        }

        /* English Wedding Styles */
        .english-wedding {
            --primary-color: #e8a87c;
            --secondary-color: #f4d4ba;
            --accent-color: #F47A43;
            --bg-gradient: linear-gradient(135deg, #f5e6d3 0%, #f8f4f2 50%, #fdeee6 100%);
            --section-bg: linear-gradient(135deg, #faf7f5 0%, #f8f4f2 100%);
        }

        /* Indian Wedding Styles - Updated with watercolor background and new colors */
        .indian-wedding {
            --primary-color: #c41e3a;
            --secondary-color: #d4af37;
            --accent-color: #E72A5C;
            --purple-color: #704AAF;
            --teal-color: #008B8B;
            --bronze-color: #CD7F32;
            --bg-gradient: linear-gradient(135deg, #8B0000 0%, #c41e3a 50%, #d4af37 100%);
            --section-bg: linear-gradient(135deg, #fef1f1 0%, #fff8dc 100%);
            
            /* Watercolor background */
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 192, 203, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 223, 186, 0.4) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255, 248, 220, 0.2) 0%, transparent 50%),
                linear-gradient(135deg, #fef9f9 0%, #fff8f0 50%, #fffbf0 100%);
            min-height: 100vh;
        }

        /* Watercolor overlay for Indian wedding */
        .indian-wedding::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(ellipse at 15% 70%, rgba(255, 182, 193, 0.15) 0%, transparent 60%),
                radial-gradient(ellipse at 85% 30%, rgba(255, 218, 185, 0.2) 0%, transparent 60%),
                radial-gradient(ellipse at 50% 90%, rgba(255, 239, 213, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 1;
        }

        /* Home page heading colors */
        .english-wedding #englishHome h1 {
            color: #000000 !important;
        }

        .indian-wedding #indianHome h1 {
            color: #000000 !important;
        }

        /* Menu page heading - Indian should be purple */
        .indian-wedding #indianHome {
            background: #704AAF !important;
        }

        /* Alternating heading colors for Indian wedding */
        .indian-wedding #indianStory h2 { color: #E72A5C !important; }
        .indian-wedding #indianOrderofday h2 { color: #704AAF !important; }
        .indian-wedding #indianAccommodations h2 { color: #E72A5C !important; }
        .indian-wedding #indianRegistry h2 { color: #704AAF !important; }
        .indian-wedding #indianRsvp h2 { color: #E72A5C !important; }
        .indian-wedding #indianQa h2 { color: #704AAF !important; }

        /* Hanging Lanterns Animation */
        .indian-lanterns {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 200px;
            pointer-events: none;
            z-index: 2;
        }

        .lantern {
            position: absolute;
            width: 40px;
            height: 60px;
            background: linear-gradient(45deg, #E72A5C, #704AAF);
            border-radius: 50% 50% 20% 20%;
            box-shadow: 
                0 0 20px rgba(231, 42, 92, 0.4),
                inset 0 0 10px rgba(112, 74, 175, 0.6);
            animation: sway 4s ease-in-out infinite;
            transform-origin: top center;
        }

        .lantern::before {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 20px;
            background: #8B4513;
        }

        .lantern::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 10px;
            background: #d4af37;
            border-radius: 50%;
        }

        .lantern:nth-child(1) { left: 10%; animation-delay: 0s; }
        .lantern:nth-child(2) { left: 25%; animation-delay: 1s; }
        .lantern:nth-child(3) { left: 40%; animation-delay: 2s; }
        .lantern:nth-child(4) { left: 60%; animation-delay: 0.5s; }
        .lantern:nth-child(5) { left: 75%; animation-delay: 1.5s; }
        .lantern:nth-child(6) { left: 90%; animation-delay: 2.5s; }

        @keyframes sway {
            0%, 100% { transform: rotate(-3deg); }
            50% { transform: rotate(3deg); }
        }

        /* Indian content sections with soft background */
        .indian-wedding .content-section {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin: 1rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            position: relative;
            z-index: 3;
        }

        /* Updated box borders - solid purple only for Indian */
        .indian-wedding .content-card,
        .indian-wedding .timeline-item,
        .indian-wedding .accommodation-card,
        .indian-wedding .registry-content,
        .indian-wedding .rsvp-wizard,
        .indian-wedding .qa-item {
            border: 2px solid #704AAF !important;
            background: white !important;
        }

        /* Indian Navigation Styling */
        .indian-wedding header {
            background: linear-gradient(135deg, rgba(231, 42, 92, 0.95) 0%, rgba(112, 74, 175, 0.95) 100%);
            border-bottom: 3px solid #d4af37;
        }

        .indian-wedding nav {
            background: linear-gradient(135deg, rgba(231, 42, 92, 0.98) 0%, rgba(112, 74, 175, 0.98) 100%);
            border-top: 2px solid #d4af37;
        }

        .indian-wedding nav a,
        .indian-wedding nav button {
            color: #FFD700 !important;
            font-weight: 600;
        }

        .indian-wedding nav a:hover,
        .indian-wedding nav button:hover {
            color: white !important;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
        }

        .indian-wedding .menu-toggle {
            background: linear-gradient(135deg, #E72A5C, #704AAF) !important;
            color: white !important;
            border: 2px solid #d4af37;
        }

        /* Indian Q&A Styles - Updated */
        .indian-wedding .qa-item {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border: 2px solid #704AAF;
            margin-bottom: 2rem;
        }

        .indian-wedding .qa-question {
            font-family: 'La Luxes Serif', serif;
            font-size: 1.4rem;
            color: #E72A5C;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .indian-wedding .qa-answer {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #000000;
        }

        .indian-wedding .qa-answer em {
            font-style: italic;
            color: #666;
        }

        .indian-wedding .qa-answer a {
            color: #E72A5C;
            text-decoration: underline;
        }

        .indian-wedding .qa-answer a:hover {
            color: #704AAF;
        }

        /* Dashboard Styles */
        .dashboard-page {
            display: none;
            min-height: 100vh;
            background: #f8f9fa;
            padding: 2rem 0;
        }

        .dashboard-page.active {
            display: block;
        }

        .dashboard-header {
            background: white;
            padding: 2rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .dashboard-title {
            font-family: 'La Luxes Serif', serif;
            font-size: 2.5rem;
            color: #8b7355;
            text-align: center;
            margin-bottom: 0.5rem;
        }

        .dashboard-subtitle {
            text-align: center;
            color: #666;
            font-size: 1.1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            border: 2px solid #f4d4ba;
        }

        .stat-card h3 {
            font-family: 'La Luxes Serif', serif;
            font-size: 1.8rem;
            color: #8b7355;
            margin-bottom: 1rem;
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 700;
            color: #e8a87c;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: #666;
            font-size: 1.1rem;
        }

        .progress-bar {
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            height: 20px;
            margin: 1rem 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #e8a87c, #c41e3a);
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .wedding-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .wedding-stat-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid #f4d4ba;
        }

        .wedding-stat-card.english {
            border-left: 5px solid #e8a87c;
        }

        .wedding-stat-card.indian {
            border-left: 5px solid #c41e3a;
        }

        .meal-planning {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            border: 2px solid #f4d4ba;
        }

        .meal-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid #eee;
        }

        .meal-item:last-child {
            border-bottom: none;
        }

        .meal-progress {
            flex: 1;
            margin: 0 1rem;
        }

        .meal-progress-bar {
            background: #e0e0e0;
            border-radius: 5px;
            height: 10px;
            overflow: hidden;
        }

        .meal-progress-fill {
            height: 100%;
            background: #e8a87c;
            border-radius: 5px;
            transition: width 0.3s ease;
        }

        .dietary-requirements {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid #f4d4ba;
        }

        .dietary-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
        }

        .dietary-item:last-child {
            border-bottom: none;
        }

        .refresh-btn {
            background: linear-gradient(135deg, #e8a87c 0%, #8b7355 100%);
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-bottom: 2rem;
        }

        .refresh-btn:hover {
            transform: translateY(-2px);
        }

        /* Guest List Management - Only show on dashboard */
        .guest-management {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid #f4d4ba;
            margin-top: 2rem;
        }

        .guest-management h3 {
            font-family: 'La Luxes Serif', serif;
            font-size: 2rem;
            color: #8b7355;
            margin-bottom: 2rem;
            text-align: center;
        }

        .upload-section {
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
        }

        .upload-section h4 {
            margin-bottom: 1rem;
        }

        .upload-section input {
            margin-bottom: 1rem;
            width: 100%;
            padding: 0.5rem;
        }

        .upload-section button {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 0.25rem;
        }

        /* Header & Navigation */
        header {
            background: rgba(248, 244, 242, 0.95);
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .nav-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .menu-toggle {
            background: var(--accent-color, #F47A43);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
        }

        .menu-toggle:hover {
            background: var(--accent-color, #F47A43);
            opacity: 0.9;
        }

        nav {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(248, 244, 242, 0.98);
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: none;
        }

        nav.active {
            display: block;
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            align-items: center;
            padding: 1rem 0;
        }

        nav li {
            margin: 0 0.8rem;
        }

        nav a, nav button {
            text-decoration: none;
            color: var(--accent-color, #F47A43);
            font-weight: 400;
            transition: color 0.3s ease;
            font-size: 1rem;
            background: none;
            border: none;
            cursor: pointer;
            font-family: 'playfair+display', serif;
        }

        nav a:hover, nav button:hover {
            color: var(--accent-color, #F47A43);
            opacity: 0.8;
        }

        /* Flowing Layout System */
        .flowing-layout {
            display: grid;
            grid-template-columns: 60% 40%;
            min-height: 100vh;
            align-items: stretch;
        }

        .photo-section {
            position: sticky;
            top: 0;
            height: 100vh;
            overflow: hidden;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .photo-section img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            transition: opacity 0.5s ease;
        }

        .content-flow {
            background: white;
            padding-top: 80px;
        }

        .content-section {
            min-height: 100vh;
            padding: 4rem 3rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            border-bottom: 1px solid #eee;
        }

        .content-section:last-child {
            border-bottom: none;
        }

        .content-section h2 {
            font-family: 'La Luxes Serif', serif;
            font-size: 2.5rem;
            color: var(--accent-color);
            margin-bottom: 2rem;
        }

        .content-section h3 {
            font-family: 'La Luxes Serif', serif;
            font-size: 1.8rem;
            color: var(--primary-color);
            margin: 2rem 0 1rem 0;
        }

        .content-section p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
            color: #000000;
        }

        /* Menu Hero Section */
        .menu-hero-content {
            text-align: center;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
        }

        .menu-hero-content h1 {
            font-family: 'La Luxes Serif', serif;
            font-size: 4rem;
            margin-bottom: 1rem;
            white-space: nowrap;
            color: #000000 !important;
            text-shadow: none !important;
        }

        .menu-hero-content .date {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            font-weight: 300;
            color: #000000;
            text-shadow: none;
        }

        .menu-hero-content .venue {
            font-size: 1.4rem;
            margin-bottom: 2rem;
            font-weight: 400;
            color: #000000;
            text-shadow: none;
        }

        .menu-hero-content .countdown {
            background: rgba(255,255,255,0.2);
            padding: 1.5rem 2rem;
            border-radius: 15px;
            display: inline-block;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.3);
        }

        .menu-hero-content .countdown-text {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: #000000;
            text-shadow: none;
        }

        .menu-hero-content .countdown-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #000000;
            text-shadow: none;
        }

        /* Section Titles */
        .section-title {
            font-family: 'La Luxes Serif', serif;
            font-size: 2.5rem;
            text-align: center;
            color: var(--accent-color);
            margin-bottom: 3rem;
            position: relative;
        }

        .section-title::after {
            content: '';
            display: block;
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            margin: 1rem auto;
            border-radius: 2px;
        }

        .story-ending {
            font-size: 1.2rem !important;
            color: var(--primary-color) !important;
            font-weight: 600;
            text-align: center;
            padding: 1rem;
            background: var(--section-bg);
            border-radius: 10px;
            border-left: 4px solid var(--primary-color);
        }

        /* Content Cards */
        .content-card {
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            border: 2px solid var(--secondary-color);
            margin-bottom: 3rem;
            line-height: 1.8;
        }

        .content-card h3 {
            font-family: 'La Luxes Serif', serif;
            font-size: 2rem;
            color: var(--accent-color);
            margin-bottom: 1.5rem;
        }

        .content-card p {
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            color: #000000;
        }

        /* Story Section */
        .story-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 3rem;
            margin-top: 3rem;
        }

        /* Accommodations */
        .accommodation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .accommodation-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border: 2px solid var(--secondary-color);
            text-align: center;
        }

        .accommodation-card h4 {
            font-family: 'La Luxes Serif', serif;
            font-size: 1.5rem;
            color: var(--accent-color);
            margin-bottom: 1rem;
        }

        .accommodation-card .price {
            font-size: 1.2rem;
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .accommodation-card .details {
            font-size: 1rem;
            color: #000000;
            margin-bottom: 1rem;
        }

        .accommodation-card .contact {
            font-size: 0.9rem;
            color: var(--accent-color);
            font-weight: 600;
        }

        .accommodation-card .contact a {
            color: var(--accent-color);
            text-decoration: underline;
        }

        /* Registry */
        .registry-content {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
            padding: 3rem;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            border: 2px solid var(--secondary-color);
        }

        .registry-content p {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 2rem;
            color: #000000;
        }

        .registry-link {
            background: var(--primary-color);
            color: white;
            padding: 1rem 2rem;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            display: inline-block;
            margin-top: 1rem;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }

        .registry-link:hover {
            background: var(--accent-color);
            transform: translateY(-2px);
        }

        /* Q&A - Updated Styles */
        .qa-item {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border: 2px solid var(--accent-color);
            margin-bottom: 2rem;
        }

        .qa-question {
            font-family: 'La Luxes Serif', serif;
            font-size: 1.4rem;
            color: var(--accent-color);
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .qa-answer {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #000000;
        }

        .qa-answer em {
            font-style: italic;
            color: #666;
        }

        .qa-answer a {
            color: var(--accent-color);
            text-decoration: underline;
        }

        .qa-answer a:hover {
            color: var(--accent-color);
            opacity: 0.8;
        }

        /* Order of the Day Styles */
        .timeline-item {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border: 2px solid var(--secondary-color);
            margin-bottom: 2rem;
            display: flex;
            align-items: flex-start;
            gap: 1.5rem;
        }

        .timeline-emoji {
            font-size: 2rem;
            margin-top: 0.2rem;
        }

        .timeline-content h4 {
            font-family: 'La Luxes Serif', serif;
            font-size: 1.4rem;
            color: var(--accent-color);
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .timeline-content p {
            font-size: 1.1rem;
            line-height: 1.6;
            color: #000000;
            margin: 0;
        }

        .timeline-content a {
            color: var(--primary-color);
            text-decoration: underline;
        }

        .timeline-content a:hover {
            color: var(--accent-color);
        }

        /* Coming Soon Style */
        .coming-soon {
            text-align: center;
            padding: 5rem 2rem;
            background: var(--section-bg);
            border-radius: 20px;
            margin: 2rem auto;
            max-width: 600px;
        }

        .coming-soon h2 {
            font-family: 'La Luxes Serif', serif;
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        /* RSVP Deadline Notice */
        .rsvp-deadline {
            text-align: center;
            color: #000000;
            font-size: 1.1rem;
            margin-bottom: 2rem;
            font-weight: 500;
        }

        /* RSVP Wizard */
        .rsvp-wizard {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 3rem;
            max-width: 600px;
            margin: 0 auto;
            border: 2px solid var(--secondary-color);
        }

        .wizard-step {
            display: none;
        }

        .wizard-step.active {
            display: block;
        }

        .step-title {
            font-family: 'La Luxes Serif', serif;
            font-size: 2rem;
            color: var(--accent-color);
            text-align: center;
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 2rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--accent-color);
            font-weight: 600;
            font-size: 1.1rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 1rem;
            border: 2px solid var(--secondary-color);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
            font-family: 'playfair+display', serif;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .attendance-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 1rem;
        }

        .attendance-btn {
            padding: 1.5rem;
            border: 2px solid var(--secondary-color);
            border-radius: 15px;
            background: white;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .attendance-btn:hover {
            border-color: var(--primary-color);
            background: var(--section-bg);
        }

        .attendance-btn.selected {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: white;
        }

        .attendance-btn.accept {
            color: #2d5a2d;
        }

        .attendance-btn.decline {
            color: #8b4513;
        }

        .menu-options {
            display: grid;
            gap: 1rem;
            margin-top: 1rem;
        }

        .menu-option {
            padding: 1rem;
            border: 2px solid var(--secondary-color);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .menu-option:hover {
            border-color: var(--primary-color);
            background: var(--section-bg);
        }

        .menu-option.selected {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: white;
        }

        .drink-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .drink-option {
            padding: 0.8rem;
            border: 2px solid var(--secondary-color);
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .drink-option:hover {
            border-color: var(--primary-color);
        }

        .drink-option.selected {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: white;
        }

        .wizard-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
        }

        .btn {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'playfair+display', serif;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #ccc;
            color: #666;
        }

        .btn-secondary:hover {
            background: #bbb;
        }

        .person-indicator {
            text-align: center;
            margin-bottom: 2rem;
            padding: 1rem;
            background: var(--section-bg);
            border-radius: 10px;
            border-left: 4px solid var(--primary-color);
        }

        .buffet-notice {
            background: var(--section-bg);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            border-left: 4px solid var(--primary-color);
        }

        .buffet-notice h4 {
            color: var(--accent-color);
            margin-bottom: 0.5rem;
        }

        /* Success/Error Messages */
        .message {
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            text-align: center;
            font-weight: 600;
        }

        .message.success {
            background-color: #d4f7d4;
            color: #2d5a2d;
            border: 2px solid #90d690;
        }

        .message.error {
            background-color: #f7d4d4;
            color: #5a2d2d;
            border: 2px solid #d69090;
        }

        .hidden {
            display: none;
        }

        /* Footer */
        footer {
            background: var(--accent-color);
            color: white;
            text-align: center;
            padding: 3rem 0;
        }

        .footer-content {
            font-size: 1.2rem;
            font-weight: 500;
            line-height: 1.6;
        }

        .footer-content div {
            margin-bottom: 0.5rem;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            /* Mobile: Stack vertically with photo on top */
            .flowing-layout {
                grid-template-columns: 1fr;
                grid-template-rows: 50vh auto;
            }

            .photo-section {
                position: relative;
                height: 50vh;
                min-height: 300px;
                display: block !important;
            }

            .photo-section img {
                display: block !important;
                width: 100% !important;
                height: 100% !important;
                object-fit: cover !important;
            }

            .content-flow {
                padding-top: 0;
            }

            .content-section {
                padding: 2rem 1.5rem;
                min-height: auto;
            }

            .content-section h2 {
                font-size: 2rem;
            }

            .content-section h3 {
                font-size: 1.5rem;
            }

            .content-section p {
                font-size: 1rem;
            }

            .menu-hero-content h1 {
                font-size: 2.8rem;
                white-space: normal;
            }

            .wedding-buttons {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .wedding-btn {
                padding: 2rem 1.5rem;
            }

            .nav-container {
                flex-direction: column;
                gap: 1rem;
            }

            nav ul {
                flex-direction: column;
                text-align: center;
                gap: 0.5rem;
            }

            nav li {
                margin: 0.2rem 0;
            }

            .story-grid,
            .accommodation-grid,
            .stats-grid,
            .wedding-stats {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .rsvp-wizard,
            .content-card,
            .registry-content {
                padding: 2rem;
                margin: 0 1rem;
            }

            .attendance-buttons {
                grid-template-columns: 1fr;
            }

            .drink-options {
                grid-template-columns: 1fr 1fr;
            }

            .timeline-item {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .timeline-emoji {
                font-size: 2.5rem;
            }

            .lantern {
                width: 30px;
                height: 45px;
            }

            .indian-wedding .content-section {
                margin: 0.5rem;
            }

            .guest-management {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .content-section {
                padding: 1.5rem 1rem;
            }

            .content-section h2 {
                font-size: 1.8rem;
            }

            .content-section h3 {
                font-size: 1.3rem;
            }

            .story-ending {
                font-size: 1rem !important;
                padding: 0.8rem;
            }

            .rsvp-wizard {
                padding: 1.5rem;
            }

            .wizard-buttons {
                flex-direction: column;
                gap: 1rem;
            }

            .menu-hero-content {
                padding: 2rem 1rem;
            }

            .menu-hero-content h1 {
                font-size: 2.5rem;
            }
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Decorative elements */
        .decorative-element {
            position: absolute;
            opacity: 0.1;
            pointer-events: none;
        }

        .decorative-element.top-left {
            top: 20%;
            left: 10%;
            font-size: 8rem;
            color: var(--primary-color);
        }

        .decorative-element.bottom-right {
            bottom: 20%;
            right: 10%;
            font-size: 6rem;
            color: var(--secondary-color);
        }
    </style>
</head>
<body>
    <!-- Password Protection Screen -->
    <div id="passwordScreen" class="password-screen">
        <div class="password-form">
            <h2>Darshna & Michael</h2>
            <p>Please enter the password to access our wedding website</p>
            <input type="password" id="passwordInput" placeholder="Enter password">
            <button onclick="checkPassword()">Enter</button>
            <div id="passwordError" class="password-error">Incorrect password. Please try again.</div>
        </div>
    </div>

    <!-- Main Website Content (hidden until password entered) -->
    <div id="mainContent" class="hidden">
        <!-- Wedding Selection Screen -->
        <div id="weddingSelector" class="wedding-selector">
            <div class="selector-content">
                <h1>
                    Darshna 
                    <span class="ampersand">&</span> 
                    Michael
                </h1>
                <div class="subtitle">Two Celebrations, One Love Story</div>
                <div class="instructions">
                    <p><strong>Welcome!</strong> Please select the wedding celebration you've been invited to. If you're invited to both, you can RSVP to each separately.</p>
                </div>
                <div class="wedding-buttons">
                    <a href="#" class="wedding-btn english" onclick="showWedding('english')">
                        <h3>English Wedding</h3>
                        <div class="date">May 1st, 2026</div>
                        <div class="location">Elmore Court, Gloucester</div>
                        <div class="details">Ceremony & Reception</div>
                    </a>
                    <a href="#" class="wedding-btn indian" onclick="showWedding('indian')">
                        <h3>Indian Wedding</h3>
                        <div class="date">May 10th, 2026</div>
                        <div class="location">Oshwal Centre, Potters Bar</div>
                        <div class="details">Traditional Ceremony</div>
                    </a>
                    
                    <!-- Dashboard Access Button -->
                    <a href="#" class="wedding-btn dashboard" onclick="showDashboard()">
                        <h3>ðŸ“Š Dashboard</h3>
                        <div class="date">Admin Access</div>
                        <div class="location">RSVP Tracking & Planning</div>
                        <div class="details">Real-time wedding data</div>
                    </a>
                </div>
            </div>
        </div>

        <!-- Dashboard Page -->
        <div id="dashboardPage" class="dashboard-page">
            <div class="dashboard-header">
                <div class="container">
                    <h1 class="dashboard-title">Wedding Dashboard</h1>
                    <p class="dashboard-subtitle">Real-time RSVP Tracking for Darshna & Michael</p>
                    <button class="refresh-btn" onclick="refreshDashboard()">ðŸ”„ Refresh Data</button>
                </div>
            </div>

            <div class="container">
                <!-- Overview Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Total Responses</h3>
                        <div class="stat-number" id="totalResponses">0</div>
                        <div class="stat-label">RSVP submissions</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="overallProgress" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <h3>Total Attending</h3>
                        <div class="stat-number" id="totalAttending">0</div>
                        <div class="stat-label">guests confirmed</div>
                    </div>
                    <div class="stat-card">
                        <h3>Response Rate</h3>
                        <div class="stat-number" id="responseRate">100%</div>
                        <div class="stat-label">open RSVP system</div>
                    </div>
                </div>

                <!-- Wedding-Specific Stats -->
                <div class="wedding-stats">
                    <div class="wedding-stat-card english">
                        <h3>English Wedding</h3>
                        <p><strong>Attending:</strong> <span id="englishAttending">0</span></p>
                        <p><strong>Declined:</strong> <span id="englishDeclined">0</span></p>
                        <p><strong>Total RSVPs:</strong> <span id="englishTotal">0</span></p>
                        <div class="progress-bar">
                            <div class="progress-fill" id="englishProgress" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="wedding-stat-card indian">
                        <h3>Indian Wedding</h3>
                        <p><strong>Attending:</strong> <span id="indianAttending">0</span></p>
                        <p><strong>Declined:</strong> <span id="indianDeclined">0</span></p>
                        <p><strong>Total RSVPs:</strong> <span id="indianTotal">0</span></p>
                        <div class="progress-bar">
                            <div class="progress-fill" id="indianProgress" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <!-- Meal Planning (English Wedding) -->
                <div class="meal-planning">
                    <h3>English Wedding - Meal Planning</h3>
                    <div class="meal-item">
                        <span>Starter Option 1</span>
                        <div class="meal-progress">
                            <div class="meal-progress-bar">
                                <div class="meal-progress-fill" id="starter1Progress" style="width: 0%"></div>
                            </div>
                        </div>
                        <span id="starter1Count">0</span>
                    </div>
                    <div class="meal-item">
                        <span>Starter Option 2</span>
                        <div class="meal-progress">
                            <div class="meal-progress-bar">
                                <div class="meal-progress-fill" id="starter2Progress" style="width: 0%"></div>
                            </div>
                        </div>
                        <span id="starter2Count">0</span>
                    </div>
                    <div class="meal-item">
                        <span>Main Option 3</span>
                        <div class="meal-progress">
                            <div class="meal-progress-bar">
                                <div class="meal-progress-fill" id="main3Progress" style="width: 0%"></div>
                            </div>
                        </div>
                        <span id="main3Count">0</span>
                    </div>
                    <div class="meal-item">
                        <span>Main Option 4</span>
                        <div class="meal-progress">
                            <div class="meal-progress-bar">
                                <div class="meal-progress-fill" id="main4Progress" style="width: 0%"></div>
                            </div>
                        </div>
                        <span id="main4Count">0</span>
                    </div>
                </div>

                <!-- Dietary Requirements -->
                <div class="dietary-requirements">
                    <h3>Dietary Requirements Summary</h3>
                    <div id="dietaryList">
                        <p>No dietary requirements reported yet.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- English Wedding Page -->
        <div id="englishWedding" class="wedding-page english-wedding">
            <header>
                <div class="container nav-container">
                    <button class="menu-toggle" onclick="toggleMenu('english')">Menu</button>
                    <nav id="englishNav">
                        <ul>
                            <li><a href="#englishHome" onclick="scrollToSection('englishHome')">Home</a></li>
                            <li><a href="#englishStory" onclick="scrollToSection('englishStory')">Story</a></li>
                            <li><a href="#englishOrderofday" onclick="scrollToSection('englishOrderofday')">Order of the Day</a></li>
                            <li><a href="#englishTravel" onclick="scrollToSection('englishTravel')">Travel</a></li>
                            <li><a href="#englishAccommodations" onclick="scrollToSection('englishAccommodations')">Accommodations</a></li>
                            <li><a href="#englishRegistry" onclick="scrollToSection('englishRegistry')">Registry</a></li>
                            <li><a href="#englishRsvp" onclick="scrollToSection('englishRsvp')">RSVP</a></li>
                            <li><a href="#englishQa" onclick="scrollToSection('englishQa')">Q & A</a></li>
                        </ul>
                    </nav>
                </div>
            </header>

            <div class="flowing-layout">
                <!-- Sticky Photo Section -->
                <div class="photo-section">
                    <img id="englishPhoto" src="images/english-home.jpg" alt="English Wedding" 
                         onerror="this.src='images/engagement-photo.jpg'">
                </div>

                <!-- Content Flow -->
                <div class="content-flow">
                    <!-- Home Section -->
                    <div id="englishHome" class="content-section" data-photo="images/english-home.jpg">
                        <div class="menu-hero-content">
                            <h1>Darshna & Michael</h1>
                            <div class="date">1st May 2026</div>
                            <div class="venue">Elmore Court, Cotswolds</div>
                            <div class="countdown">
                                <div class="countdown-text">Days until our wedding</div>
                                <div class="countdown-number" id="englishCountdown">Loading...</div>
                            </div>
                        </div>
                    </div>

                    <!-- Story Section -->
                    <div id="englishStory" class="content-section" data-photo="images/english-story.jpg">
                        <h2>Our Story</h2>
                        <h3>How We Met</h3>
                        <p>Michael spotted Darshna at a summer house party and did... absolutely nothing. Lucky for them, fast forward four months to a NYE house party (that neither of them planned to attend), their paths crossed again and they spent hours talking away.</p>
                        
                        <p>Like a true gentleman, he walked her to the station. And like a true millennial, he didn't ask for her number but slid into her Instagram DMs the next day.</p>
                        
                        <h3>The First Date</h3>
                        <p>Michael chose the elegant Bluebird Chelsea for their first date, clearly pulling out all the stops! Still recovering from the flu, Darshna kept disappearing to the ladies' roomâ€”apparently blowing your nose on a first date isn't very romantic. After the 10th time, Michael, with his signature dry humor, told her she may as well take her bag with her if she was planning to make a run for it.</p>
                        
                        <div class="story-ending">That has since changed and now he holds the tissue box for her â¤ï¸</div>
                    </div>

                    <!-- Order of the Day Section -->
                    <div id="englishOrderofday" class="content-section" data-photo="images/english-orderofday.jpg">
                        <h2>Order of the Day</h2>
                        
                        <div class="timeline-item">
                            <div class="timeline-emoji">âœ¨</div>
                            <div class="timeline-content">
                                <h4>12:30 PM - Guests Arrive</h4>
                                <p>The bar will be open from 12:30pm. Please take your seats by 1pm.</p>
                            </div>
                        </div>

                        <div class="timeline-item">
                            <div class="timeline-emoji">ðŸ’</div>
                            <div class="timeline-content">
                                <h4>1:30 PM - Ceremony</h4>
                                <p>Join us for an unplugged ceremony; kindly keep phones on silent and tucked away</p>
                            </div>
                        </div>

                        <div class="timeline-item">
                            <div class="timeline-emoji">ðŸ¥‚</div>
                            <div class="timeline-content">
                                <h4>2:00 PM - Reception Drinks & Canapes</h4>
                            </div>
                        </div>

                        <div class="timeline-item">
                            <div class="timeline-emoji">ðŸ½ï¸ðŸŽ¤</div>
                            <div class="timeline-content">
                                <h4>4:00 PM - Wedding Breakfast & Speeches</h4>
                            </div>
                        </div>

                        <div class="timeline-item">
                            <div class="timeline-emoji">ðŸŽ‰</div>
                            <div class="timeline-content">
                                <h4>7:30 PM onwards - The Party Begins!</h4>
                                <p>After our first dance, meet us under the disco ball to celebrate!</p>
                            </div>
                        </div>

                        <div class="timeline-item">
                            <div class="timeline-emoji">ðŸ”</div>
                            <div class="timeline-content">
                                <h4>9:00 PM - Evening Food</h4>
                            </div>
                        </div>

                        <div class="timeline-item">
                            <div class="timeline-emoji">ðŸš•</div>
                            <div class="timeline-content">
                                <h4>11:59 PM - Farewell & Carriages</h4>
                                <p>The bar closes at XXX. Please arrange transport by XXX, we recommend pre-booking a taxi from our <a href="#englishTravel" onclick="scrollToSection('englishTravel')">Travel</a> page</p>
                            </div>
                        </div>
                    </div>

                    <!-- Travel Section -->
                    <div id="englishTravel" class="content-section" data-photo="images/english-travel.jpg">
                        <h2>Travel</h2>
                        <p>We recommend pre-booking your taxi for the end of the evening:</p>
                        
                        <div class="content-card">
                            <h3>Andy Cars</h3>
                            <p><strong>Phone:</strong> 01452 523000</p>
                            <p><strong>Website:</strong> <a href="https://www.andycarsgloucester.co.uk/" target="_blank">https://www.andycarsgloucester.co.uk/</a></p>
                        </div>
                    </div>

                    <!-- Accommodations Section -->
                    <div id="englishAccommodations" class="content-section" data-photo="images/english-accommodations.jpg">
                        <h2>Accommodations</h2>
                        <p>Here are some nearby hotel options for our wedding guests:</p>
                        
                        <div class="accommodation-grid">
                            <div class="accommodation-card">
                                <h4>Premier Inn Gloucester</h4>
                                <div class="price">Â£89/night</div>
                                <div class="details">
                                    15 minutes from venue<br>
                                    Includes breakfast<br>
                                    Free parking
                                </div>
                                <div class="contact">Book: <a href="https://www.premierinn.com/" target="_blank">premierinn.com</a> | 0333 003 8101</div>
                            </div>
                            <div class="accommodation-card">
                                <h4>Travelodge Gloucester</h4>
                                <div class="price">Â£65/night</div>
                                <div class="details">
                                    20 minutes from venue<br>
                                    Budget-friendly option<br>
                                    Free WiFi
                                </div>
                                <div class="contact">Book: <a href="https://www.travelodge.co.uk/" target="_blank">travelodge.co.uk</a></div>
                            </div>
                            <div class="accommodation-card">
                                <h4>The Bell Hotel</h4>
                                <div class="price">Â£120/night</div>
                                <div class="details">
                                    Historic coaching inn<br>
                                    10 minutes from venue<br>
                                    Full English breakfast
                                </div>
                                <div class="contact">Book: 01452 700 000</div>
                            </div>
                        </div>
                    </div>

                    <!-- Registry Section -->
                    <div id="englishRegistry" class="content-section" data-photo="images/english-registry.jpg">
                        <h2>Registry</h2>
                        <div class="registry-content">
                            <p>Your presence at our wedding is the greatest gift of all ðŸ§¡</p>
                            <p>If you would like to give us a gift, we are saving for our honeymoon and would be delighted with a contribution. Please use the following link to join us in creating these memories:</p>
                            <a href="#" class="registry-link">Contribute to Our Honeymoon</a>
                        </div>
                    </div>

                    <!-- RSVP Section -->
                    <div id="englishRsvp" class="content-section" data-photo="images/english-rsvp.jpg">
                        <h2>RSVP</h2>
                        <div class="rsvp-deadline">Please RSVP by 1st February</div>
                        <div class="rsvp-wizard" id="englishRsvpWizard">
                            <div id="englishSuccessMessage" class="message success hidden">
                                <p>ðŸŽ‰ Thank you for your RSVP! We can't wait to celebrate with you at our English wedding!</p>
                            </div>
                            <div id="englishErrorMessage" class="message error hidden">
                                <p>âŒ Sorry, there was an error. Please try again or contact us directly.</p>
                            </div>

                            <!-- Step 1: Name and Email -->
                            <div class="wizard-step active" id="englishStep1">
                                <div class="step-title">Enter your details to RSVP</div>
                                <div class="form-group">
                                    <label for="englishSubmitterName">Your Name *</label>
                                    <input type="text" id="englishSubmitterName" required>
                                </div>
                                <div class="form-group">
                                    <label for="englishSubmitterEmail">Your Email Address *</label>
                                    <input type="email" id="englishSubmitterEmail" required>
                                </div>
                                <div class="wizard-buttons">
                                    <div></div>
                                    <button class="btn" onclick="englishNextStep(1)">Next</button>
                                </div>
                            </div>

                            <!-- Dynamic person steps will be inserted here -->
                            <div id="englishPersonSteps"></div>

                            <!-- Final step -->
                            <div class="wizard-step" id="englishFinalStep">
                                <div class="step-title">Review & Submit</div>
                                <div id="englishRsvpSummary"></div>
                                <div class="wizard-buttons">
                                    <button class="btn btn-secondary" onclick="startNewRSVP('english')">Start Over</button>
                                    <button class="btn" onclick="submitEnglishRSVP()">Submit RSVP</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Q&A Section -->
                    <div id="englishQa" class="content-section" data-photo="images/english-qa.jpg">
                        <h2>Q & A</h2>
                        
                        <div class="qa-item">
                            <div class="qa-question">What is the RSVP deadline?</div>
                            <div class="qa-answer">Please RSVP by 1st February 2026</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">What time should I arrive?</div>
                            <div class="qa-answer">Please join us from 12:30 PM (the bar will be open!) and be seated for 1:00PM. The ceremony will begin at 1:30 PM.</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Can I bring a plus-one?</div>
                            <div class="qa-answer">We have tried to include everyone we would love to celebrate with and unfortunately we can't accommodate plus-ones</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Are children welcome?</div>
                            <div class="qa-answer">We're only including children who are part of the wedding party. While we adore your little ones, we hope you understand and can enjoy a well-deserved night off!</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">What if I have dietary restrictions?</div>
                            <div class="qa-answer">Please let us know about any dietary requirements when you RSVP, and we'll make sure you're well taken care of!</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Can we take pictures with our phones and cameras during the wedding?</div>
                            <div class="qa-answer">We kindly request an unplugged ceremony so please keep phones and cameras tucked away. We will have a professional photographer and videographer throughout the day.<br><br>You are more than welcome to take your own photos and videos before and after the ceremony.<br><br><em>For privacy reasons, some children cannot be shared online. Please refrain from posting any photos of children on social media unless you have parental consent.</em></div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">What is the dress code?</div>
                            <div class="qa-answer">Formal wedding attire please; elegant dresses and sharp suits are perfect! Please avoid white, ivory, or cream colours. Heels are very welcome - bring some flats too if you plan to dance the night away!</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Where should I stay?</div>
                            <div class="qa-answer">See <a href="#englishAccommodations" onclick="scrollToSection('englishAccommodations')">Accommodations</a> for hotel suggestions. There are also plenty of Airbnbs available which we especially recommend if you would like to make a long weekend of it in the Cotswolds</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Will there be parking available?</div>
                            <div class="qa-answer">Yes, there is plenty of free parking available at Elmore Court. Cars can be left overnight in a designated area and collected the following morning by 10:30am.</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Do I need to book a taxi?</div>
                            <div class="qa-answer">Yes, a taxi should be pre-booked. A list of local taxis can be found on <a href="#englishTravel" onclick="scrollToSection('englishTravel')">Travel</a></div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Is the venue wheelchair accessible?</div>
                            <div class="qa-answer">Yes, Elmore Court is fully wheelchair accessible with ramps and accessible facilities.</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Whom should I contact with questions?</div>
                            <div class="qa-answer">If you have any questions that haven't been answered here, please call/text Darshna or Michael or email us at shahrosewedding@gmail.com</div>
                        </div>
                    </div>
                </div>
            </div>

            <footer>
                <div class="container">
                    <div class="footer-content">
                        <div>Darshna & Michael</div>
                        <div>1st May 2026</div>
                        <div>Elmore Court, Cotswolds</div>
                    </div>
                </div>
            </footer>
        </div>

        <!-- Indian Wedding Page -->
        <div id="indianWedding" class="wedding-page indian-wedding">
            <!-- Hanging Lanterns -->
            <div class="indian-lanterns">
                <div class="lantern"></div>
                <div class="lantern"></div>
                <div class="lantern"></div>
                <div class="lantern"></div>
                <div class="lantern"></div>
                <div class="lantern"></div>
            </div>

            <header>
                <div class="container nav-container">
                    <button class="menu-toggle" onclick="toggleMenu('indian')">Menu</button>
                    <nav id="indianNav">
                        <ul>
                            <li><a href="#indianHome" onclick="scrollToSection('indianHome')">Home</a></li>
                            <li><a href="#indianStory" onclick="scrollToSection('indianStory')">Story</a></li>
                            <li><a href="#indianOrderofday" onclick="scrollToSection('indianOrderofday')">Order of the Day</a></li>
                            <li><a href="#indianAccommodations" onclick="scrollToSection('indianAccommodations')">Accommodations</a></li>
                            <li><a href="#indianRegistry" onclick="scrollToSection('indianRegistry')">Registry</a></li>
                            <li><a href="#indianRsvp" onclick="scrollToSection('indianRsvp')">RSVP</a></li>
                            <li><a href="#indianQa" onclick="scrollToSection('indianQa')">Q & A</a></li>
                        </ul>
                    </nav>
                </div>
            </header>

            <div class="flowing-layout">
                <!-- Sticky Photo Section -->
                <div class="photo-section">
                    <img id="indianPhoto" src="images/indian-home.jpg" alt="Indian Wedding" 
                         onerror="this.src='images/engagement-photo.jpg'">
                </div>

                <!-- Content Flow -->
                <div class="content-flow">
                    <!-- Home Section with Purple Background -->
                    <div id="indianHome" class="content-section" data-photo="images/indian-home.jpg" style="background: #704AAF !important;">
                        <div class="menu-hero-content">
                            <h1>Darshna & Michael</h1>
                            <div class="date">10th May 2026</div>
                            <div class="venue">Oshwal Centre, Hertfordshire</div>
                            <div class="countdown">
                                <div class="countdown-text">Days until our wedding</div>
                                <div class="countdown-number" id="indianCountdown">Loading...</div>
                            </div>
                        </div>
                    </div>

                    <!-- Story Section -->
                    <div id="indianStory" class="content-section" data-photo="images/indian-story.jpg">
                        <h2>Our Story</h2>
                        <h3>How We Met</h3>
                        <p>Michael spotted Darshna at a summer house party and did... absolutely nothing. Lucky for them, fast forward four months to a NYE house party (that neither of them planned to attend), their paths crossed again and they spent hours talking away.</p>
                        
                        <p>Like a true gentleman, he walked her to the station. And like a true millennial, he didn't ask for her number but slid into her Instagram DMs the next day.</p>
                        
                        <h3>The First Date</h3>
                        <p>Michael chose the elegant Bluebird Chelsea for their first date, clearly pulling out all the stops! Still recovering from the flu, Darshna kept disappearing to the ladies' roomâ€”apparently blowing your nose on a first date isn't very romantic. After the 10th time, Michael, with his signature dry humor, told her she may as well take her bag with her if she was planning to make a run for it.</p>
                        
                        <div class="story-ending">That has since changed and now he holds the tissue box for her â¤ï¸</div>
                    </div>

                    <!-- Order of the Day Section -->
                    <div id="indianOrderofday" class="content-section" data-photo="images/indian-orderofday.jpg">
                        <div class="coming-soon">
                            <h2>Coming Soon â¤ï¸</h2>
                        </div>
                    </div>

                    <!-- Accommodations Section -->
                    <div id="indianAccommodations" class="content-section" data-photo="images/indian-accommodations.jpg">
                        <h2>Accommodations</h2>
                        <p>Here are some nearby hotel options for our wedding guests:</p>
                        
                        <div class="accommodation-grid">
                            <div class="accommodation-card">
                                <h4>Premier Inn Potters Bar</h4>
                                <div class="price">Â£75/night</div>
                                <div class="details">
                                    10 minutes from venue<br>
                                    Includes breakfast<br>
                                    Free parking
                                </div>
                                <div class="contact">Book: <a href="https://www.premierinn.com/" target="_blank">premierinn.com</a> | 0333 003 8101</div>
                            </div>
                            <div class="accommodation-card">
                                <h4>Holiday Inn Express</h4>
                                <div class="price">Â£95/night</div>
                                <div class="details">
                                    15 minutes from venue<br>
                                    Modern amenities<br>
                                    Fitness center
                                </div>
                                <div class="contact">Book: <a href="https://www.ihg.com/" target="_blank">ihg.com</a></div>
                            </div>
                            <div class="accommodation-card">
                                <h4>Local B&Bs</h4>
                                <div class="price">Â£60-80/night</div>
                                <div class="details">
                                    Charming local options<br>
                                    Personal service<br>
                                    Traditional breakfast
                                </div>
                                <div class="contact">Contact us for recommendations</div>
                            </div>
                        </div>
                    </div>

                    <!-- Registry Section -->
                    <div id="indianRegistry" class="content-section" data-photo="images/indian-registry.jpg">
                        <h2>Registry</h2>
                        <div class="registry-content">
                            <p>Your presence at our wedding is the greatest gift of all ðŸ§¡</p>
                            <p>If you would like to give us a gift, we are saving for our honeymoon and would be delighted with a contribution. Please use the following link to join us in creating these memories.</p>
                            <p><strong>No box gifts please.</strong></p>
                            <a href="#" class="registry-link">Contribute to Our Honeymoon</a>
                        </div>
                    </div>

                    <!-- RSVP Section -->
                    <div id="indianRsvp" class="content-section" data-photo="images/indian-rsvp.jpg">
                        <h2>RSVP</h2>
                        <div class="rsvp-deadline">Please RSVP by 1st February</div>
                        
                        <div class="rsvp-wizard" id="indianRsvpWizard">
                            <div id="indianSuccessMessage" class="message success hidden">
                                <p>ðŸŽ‰ Thank you for your RSVP! We can't wait to celebrate with you at our Indian wedding!</p>
                            </div>
                            <div id="indianErrorMessage" class="message error hidden">
                                <p>âŒ Sorry, there was an error. Please try again or contact us directly.</p>
                            </div>

                            <!-- Step 1: Name and Email -->
                            <div class="wizard-step active" id="indianStep1">
                                <div class="step-title">Enter your details to RSVP</div>
                                <div class="form-group">
                                    <label for="indianSubmitterName">Your Name *</label>
                                    <input type="text" id="indianSubmitterName" required>
                                </div>
                                <div class="form-group">
                                    <label for="indianSubmitterEmail">Your Email Address *</label>
                                    <input type="email" id="indianSubmitterEmail" required>
                                </div>
                                <div class="wizard-buttons">
                                    <div></div>
                                    <button class="btn" onclick="indianNextStep(1)">Next</button>
                                </div>
                            </div>

                            <!-- Dynamic person steps will be inserted here -->
                            <div id="indianPersonSteps"></div>

                            <!-- Final step -->
                            <div class="wizard-step" id="indianFinalStep">
                                <div class="step-title">Review & Submit</div>
                                <div id="indianRsvpSummary"></div>
                                <div class="wizard-buttons">
                                    <button class="btn btn-secondary" onclick="startNewRSVP('indian')">Start Over</button>
                                    <button class="btn" onclick="submitIndianRSVP()">Submit RSVP</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Q&A Section -->
                    <div id="indianQa" class="content-section" data-photo="images/indian-qa.jpg">
                        <h2>Q & A</h2>
                        
                        <div class="qa-item">
                            <div class="qa-question">What is the RSVP deadline?</div>
                            <div class="qa-answer">Please RSVP by 1st February 2026</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">What time should I arrive?</div>
                            <div class="qa-answer">Coming soon! We are confirming the auspicious time to get married with our Maharaja</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Can I bring a plus-one?</div>
                            <div class="qa-answer">We have tried to include everyone we would love to celebrate with and unfortunately we can't accommodate plus-ones</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Are children welcome?</div>
                            <div class="qa-answer">We're only including children who are part of the wedding party. While we adore your little ones, we hope you understand and can enjoy a well-deserved night off!</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">What if I have dietary restrictions?</div>
                            <div class="qa-answer">Please let us know about any dietary requirements when you RSVP, and we'll make sure you're well taken care of!</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">What is the dress code?</div>
                            <div class="qa-answer">Traditional Indian attire is preferred and encouraged! Think saris, lehengas, or salwar kameez for women, and kurtas or sherwanis for men. Bright colours are welcome and celebrated (just not red)</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Where can I buy Indian clothes?</div>
                            <div class="qa-answer">
                                Venisons, Wembley<br>
                                Venilal, Wembley<br><br>
                                For any clothing-related questions or if you just want a second opinion, please text Darshna
                            </div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">How long will the ceremony be?</div>
                            <div class="qa-answer">Indian wedding ceremonies typically last 2-3 hours with various rituals and traditions. There will be explanations provided for those unfamiliar with the customs</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">What if I don't understand the rituals?</div>
                            <div class="qa-answer">Don't worry! The Maharaj will be explaining the significance of different rituals throughout the ceremony so everyone can appreciate the beautiful traditions.</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Will there be vegetarian food?</div>
                            <div class="qa-answer">Yes! The entire menu will be vegetarian, following traditional Indian wedding customs. There will be a wide variety of delicious dishes to enjoy.</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Can I take pictures during the wedding?</div>
                            <div class="qa-answer">
                                We kindly request an unplugged ceremony whilst Darshna is walking down the aisle. You are more than welcome to take photos and videos the rest of the day.<br>
                                We will have a professional photographer and videographer throughout the day.<br><br>
                                <em>For privacy reasons, some children cannot be shared online. Please refrain from posting any photos of children on social media unless you have parental consent.</em>
                            </div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Where should I stay?</div>
                            <div class="qa-answer">The farewell will be at 7pm so you may not need accommodations. If you would like to stay overnight, there are plenty of hotel options listed on our <a href="#indianAccommodations" onclick="scrollToSection('indianAccommodations')">Accommodations</a> page</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Will there be parking available?</div>
                            <div class="qa-answer">Yes, there is plenty of free parking available at Oshwal Centre. There are no electric car charging points unfortunately</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Do I need to book a taxi?</div>
                            <div class="qa-answer">Yes, a taxi should be pre-booked. A list of local taxis can be found on <a href="#indianAccommodations" onclick="scrollToSection('indianAccommodations')">Travel</a></div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Is the venue wheelchair accessible?</div>
                            <div class="qa-answer">Yes, Oshwal Centre is fully wheelchair accessible with ramps and accessible facilities.</div>
                        </div>

                        <div class="qa-item">
                            <div class="qa-question">Whom should I contact with questions?</div>
                            <div class="qa-answer">If you have any questions that haven't been answered here, please call/text Darshna or Michael or email us at shahrosewedding@gmail.com</div>
                        </div>
                    </div>
                </div>
            </div>

            <footer>
                <div class="container">
                    <div class="footer-content">
                        <div>Darshna & Michael</div>
                        <div>10th May 2026</div>
                        <div>Oshwal Centre, Hertfordshire</div>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <script>
        // Simplified RSVP Variables - No guest database needed
        let currentWedding = '';
        let currentPersonIndex = 0;
        let allRsvpResponses = []; // Store all people's responses
        let currentPersonResponse = {}; // Current person being processed

        // Dashboard data storage
        let dashboardData = {
            english: {
                responses: [],
                attending: 0,
                declined: 0,
                meals: {
                    starter1: 0,
                    starter2: 0,
                    main3: 0,
                    main4: 0
                },
                dietary: []
            },
            indian: {
                responses: [],
                attending: 0,
                declined: 0,
                dietary: []
            }
        };

        // Password Protection
        function checkPassword() {
            const password = document.getElementById('passwordInput').value;
            const correctPassword = 'ElmoreCourt04!';
            
            if (password === correctPassword) {
                document.getElementById('passwordScreen').style.display = 'none';
                document.getElementById('mainContent').classList.remove('hidden');
                sessionStorage.setItem('weddingAccess', 'true');
            } else {
                document.getElementById('passwordError').style.display = 'block';
                document.getElementById('passwordInput').value = '';
            }
        }
// Enhanced URL handling for direct access
function checkURLForDirectAccess() {
    const path = window.location.pathname;
    const hash = window.location.hash;
    
    console.log('Checking URL access:', path, hash);
    
    // Handle direct URL access
    if (path === '/1stMay2026' || path.includes('1stMay2026') || hash === '#english') {
        showWedding('english');
        return true;
    } else if (path === '/10thMay2026' || path.includes('10thMay2026') || hash === '#indian') {
        showWedding('indian');
        return true;
    } else if (path.includes('/dashboard') || hash === '#dashboard') {
        showDashboard();
        return true;
    }
    
    return false;
}

// Handle direct access without password for wedding pages
function handleDirectAccess() {
    const path = window.location.pathname;
    
    // Skip password for direct wedding access
    if (path.includes('1stMay2026') || path.includes('10thMay2026')) {
        sessionStorage.setItem('weddingAccess', 'true');
        document.getElementById('passwordScreen').style.display = 'none';
        document.getElementById('mainContent').classList.remove('hidden');
        
        if (path.includes('1stMay2026')) {
            showWedding('english');
        } else if (path.includes('10thMay2026')) {
            showWedding('indian');
        }
        return true;
    }
    return false;
}

// Updated window load event
window.addEventListener('load', function() {
    // Try direct access first (bypasses password for wedding pages)
    if (handleDirectAccess()) {
        return;
    }
    
    // Otherwise check if already authenticated
    if (sessionStorage.getItem('weddingAccess') === 'true') {
        document.getElementById('passwordScreen').style.display = 'none';
        document.getElementById('mainContent').classList.remove('hidden');
        
        // Try to navigate to direct URL, if no match show selector
        if (!checkURLForDirectAccess()) {
            document.getElementById('weddingSelector').style.display = 'flex';
        }
    }
});

        // Allow Enter key for password
        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });

// Enhanced URL handling for direct access
function checkURLForDirectAccess() {
    const path = window.location.pathname;
    const hash = window.location.hash;
    
    console.log('Checking URL access:', path, hash);
    
    // Handle direct URL access
    if (path === '/1stMay2026' || path.includes('1stMay2026') || hash === '#english') {
        showWedding('english');
        return true;
    } else if (path === '/10thMay2026' || path.includes('10thMay2026') || hash === '#indian') {
        showWedding('indian');
        return true;
    } else if (path.includes('/dashboard') || hash === '#dashboard') {
        showDashboard();
        return true;
    }
    
    return false;
}

// Handle direct access without password for wedding pages
function handleDirectAccess() {
    const path = window.location.pathname;
    
    // Skip password for direct wedding access
    if (path.includes('1stMay2026') || path.includes('10thMay2026')) {
        sessionStorage.setItem('weddingAccess', 'true');
        document.getElementById('passwordScreen').style.display = 'none';
        document.getElementById('mainContent').classList.remove('hidden');
        
        if (path.includes('1stMay2026')) {
            showWedding('english');
        } else if (path.includes('10thMay2026')) {
            showWedding('indian');
        }
        return true;
    }
    return false;
}

// Updated window load event
window.addEventListener('load', function() {
    // Try direct access first (bypasses password for wedding pages)
    if (handleDirectAccess()) {
        return;
    }
    
    // Otherwise check if already authenticated
    if (sessionStorage.getItem('weddingAccess') === 'true') {
        document.getElementById('passwordScreen').style.display = 'none';
        document.getElementById('mainContent').classList.remove('hidden');
        
        // Try to navigate to direct URL, if no match show selector
        if (!checkURLForDirectAccess()) {
            document.getElementById('weddingSelector').style.display = 'flex';
        }
    }
});
        // Wedding selection functionality with updated URLs
function showWedding(type) {
    document.getElementById('weddingSelector').style.display = 'none';
    document.getElementById('dashboardPage').classList.remove('active');
    
    if (type === 'english') {
        document.getElementById('englishWedding').classList.add('active');
        document.getElementById('indianWedding').classList.remove('active');
        updateCountdown('english');
        window.history.replaceState({}, '', '/1stMay2026');
    } else if (type === 'indian') {
        document.getElementById('indianWedding').classList.add('active');
        document.getElementById('englishWedding').classList.remove('active');
        updateCountdown('indian');
        window.history.replaceState({}, '', '/10thMay2026');
    }
    currentWedding = type;
    
    setTimeout(() => {
        setupPhotoChanging(type);
    }, 100);
}

        // Dashboard functionality
        function showDashboard() {
            document.getElementById('weddingSelector').style.display = 'none';
            document.getElementById('englishWedding').classList.remove('active');
            document.getElementById('indianWedding').classList.remove('active');
            document.getElementById('dashboardPage').classList.add('active');
            window.history.pushState({}, '', '?path=dashboard');
            refreshDashboard();
        }

        // Photo changing functionality
        function setupPhotoChanging(wedding) {
            const photoImg = document.getElementById(wedding + 'Photo');
            const sections = document.querySelectorAll(`#${wedding}Wedding .content-section[data-photo]`);
            
            // Clear any existing observers
            if (window.photoObserver) {
                window.photoObserver.disconnect();
            }
            
            // Create new observer with better settings
            window.photoObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && entry.intersectionRatio > 0.3) {
                        const newPhoto = entry.target.getAttribute('data-photo');
                        if (newPhoto && photoImg) {
                            // Add error handling and force reload
                            const img = new Image();
                            img.onload = function() {
                                photoImg.src = newPhoto;
                            };
                            img.onerror = function() {
                                photoImg.src = 'images/engagement-photo.jpg'; // Fallback
                            };
                            img.src = newPhoto;
                        }
                    }
                });
            }, {
                threshold: [0.3, 0.7], // Multiple thresholds for better detection
                rootMargin: '-10% 0px -10% 0px' // Better margins
            });
            
            // Observe all sections
            sections.forEach(section => {
                if (section.getAttribute('data-photo')) {
                    window.photoObserver.observe(section);
                }
            });
            
            // Set initial photo immediately
            const firstSection = sections[0];
            if (firstSection && photoImg) {
                const initialPhoto = firstSection.getAttribute('data-photo');
                if (initialPhoto) {
                    photoImg.src = initialPhoto;
                }
            }
        }

        // Scroll to section functionality
        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                const headerHeight = document.querySelector('header').offsetHeight;
                const targetPosition = element.offsetTop - headerHeight;
                
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
                
                // Manually update photo when navigating
                const photoElement = element.getAttribute('data-photo');
                if (photoElement) {
                    const wedding = currentWedding;
                    const photoImg = document.getElementById(wedding + 'Photo');
                    if (photoImg) {
                        setTimeout(() => {
                            photoImg.src = photoElement;
                        }, 300); // Small delay to let scroll start
                    }
                }
            }
            
            // Close menu
            document.getElementById('englishNav').classList.remove('active');
            document.getElementById('indianNav').classList.remove('active');
        }

        // Menu toggle functionality
        function toggleMenu(wedding) {
            const nav = document.getElementById(`${wedding}Nav`);
            nav.classList.toggle('active');
        }

        // Close menu when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('header')) {
                document.getElementById('englishNav').classList.remove('active');
                document.getElementById('indianNav').classList.remove('active');
            }
        });

        // Dashboard Functions
        async function refreshDashboard() {
            try {
                // Fetch data from Formspree APIs
                const englishData = await fetchFormspreeData('mqadbbln');
                const indianData = await fetchFormspreeData('mldwnnlv');
                
                // Process and update dashboard
                processRSVPData('english', englishData);
                processRSVPData('indian', indianData);
                updateDashboardUI();
                
            } catch (error) {
                console.error('Error refreshing dashboard:', error);
            }
        }

        async function fetchFormspreeData(formId) {
            // Note: This is a placeholder - Formspree doesn't provide a public API to fetch submissions
            // In a real implementation, you'd need to use webhooks or a backend service
            // For now, we'll simulate with sample data
            return generateSampleData(formId);
        }

        function generateSampleData(formId) {
            // Sample data for demonstration
            const sampleData = [];
            const names = formId === 'mqadbbln' ? 
                ['John Smith', 'Jane Doe', 'Mike Wilson', 'Sarah Johnson'] :
                ['Priya Patel', 'Raj Kumar', 'Anita Singh', 'Vikram Shah'];
            
            names.forEach((name, index) => {
                sampleData.push({
                    guest_name: name,
                    attendance: index % 3 === 0 ? 'Regretfully Decline' : 'Joyfully Accept',
                    starter: index % 2 === 0 ? 'Option 1' : 'Option 2',
                    main: index % 2 === 0 ? 'Option 3' : 'Option 4',
                    dietary: index === 1 ? 'Vegetarian' : '',
                    drinks: 'Red Wine, Beer'
                });
            });
            
            return sampleData;
        }

        function processRSVPData(wedding, data) {
            dashboardData[wedding].responses = data;
            dashboardData[wedding].attending = data.filter(r => r.attendance === 'Joyfully Accept').length;
            dashboardData[wedding].declined = data.filter(r => r.attendance === 'Regretfully Decline').length;
            
            if (wedding === 'english') {
                // Process meal data
                dashboardData[wedding].meals.starter1 = data.filter(r => r.starter === 'Option 1').length;
                dashboardData[wedding].meals.starter2 = data.filter(r => r.starter === 'Option 2').length;
                dashboardData[wedding].meals.main3 = data.filter(r => r.main === 'Option 3').length;
                dashboardData[wedding].meals.main4 = data.filter(r => r.main === 'Option 4').length;
            }
            
            // Process dietary requirements
            dashboardData[wedding].dietary = data.filter(r => r.dietary && r.dietary.trim() !== '')
                .map(r => ({ name: r.guest_name, dietary: r.dietary }));
        }

        function updateDashboardUI() {
            const englishData = dashboardData.english;
            const indianData = dashboardData.indian;
            
            // Overall stats
            const totalResponses = englishData.responses.length + indianData.responses.length;
            const totalAttending = englishData.attending + indianData.attending;
            
            document.getElementById('totalResponses').textContent = totalResponses;
            document.getElementById('totalAttending').textContent = totalAttending;
            document.getElementById('responseRate').textContent = '100%';
            document.getElementById('overallProgress').style.width = '100%';
            
            // Wedding-specific stats
            document.getElementById('englishAttending').textContent = englishData.attending;
            document.getElementById('englishDeclined').textContent = englishData.declined;
            document.getElementById('englishTotal').textContent = englishData.responses.length;
            document.getElementById('englishProgress').style.width = '100%';
            
            document.getElementById('indianAttending').textContent = indianData.attending;
            document.getElementById('indianDeclined').textContent = indianData.declined;
            document.getElementById('indianTotal').textContent = indianData.responses.length;
            document.getElementById('indianProgress').style.width = '100%';
            
            // Meal planning
            const totalMeals = englishData.meals.starter1 + englishData.meals.starter2;
            document.getElementById('starter1Count').textContent = englishData.meals.starter1;
            document.getElementById('starter2Count').textContent = englishData.meals.starter2;
            document.getElementById('main3Count').textContent = englishData.meals.main3;
            document.getElementById('main4Count').textContent = englishData.meals.main4;
            
            if (totalMeals > 0) {
                document.getElementById('starter1Progress').style.width = (englishData.meals.starter1 / totalMeals) * 100 + '%';
                document.getElementById('starter2Progress').style.width = (englishData.meals.starter2 / totalMeals) * 100 + '%';
                document.getElementById('main3Progress').style.width = (englishData.meals.main3 / totalMeals) * 100 + '%';
                document.getElementById('main4Progress').style.width = (englishData.meals.main4 / totalMeals) * 100 + '%';
            }
            
            // Dietary requirements
            const dietaryList = document.getElementById('dietaryList');
            const allDietary = [...englishData.dietary, ...indianData.dietary];
            
            if (allDietary.length > 0) {
                dietaryList.innerHTML = allDietary.map(item => 
                    `<div class="dietary-item"><span><strong>${item.name}:</strong> ${item.dietary}</span></div>`
                ).join('');
            } else {
                dietaryList.innerHTML = '<p>No dietary requirements reported yet.</p>';
            }
        }

        // Countdown Timer
        function updateCountdown(type) {
            const englishDate = new Date('2026-05-01T00:00:00');
            const indianDate = new Date('2026-05-10T00:00:00');
            const now = new Date();
            
            let targetDate = type === 'english' ? englishDate : indianDate;
            let elementId = type === 'english' ? 'englishCountdown' : 'indianCountdown';
            
            const difference = targetDate - now;
            const days = Math.ceil(difference / (1000 * 60 * 60 * 24));
            
            const element = document.getElementById(elementId);
            if (element) {
                element.textContent = days > 0 ? days : '0';
            }
        }

        // Simplified RSVP Functions
        function englishNextStep(step) {
            if (step === 1) {
                const name = document.getElementById('englishSubmitterName').value.trim();
                const email = document.getElementById('englishSubmitterEmail').value.trim();
                
                if (!name || !email) {
                    alert('Please enter your name and email address');
                    return;
                }
                
                // Start with first person
                currentPersonIndex = 0;
                allRsvpResponses = [];
                startPersonRSVP('english', name, email);
            }
        }

        function indianNextStep(step) {
            if (step === 1) {
                const name = document.getElementById('indianSubmitterName').value.trim();
                const email = document.getElementById('indianSubmitterEmail').value.trim();
                
                if (!name || !email) {
                    alert('Please enter your name and email address');
                    return;
                }
                
                // Start with first person
                currentPersonIndex = 0;
                allRsvpResponses = [];
                startPersonRSVP('indian', name, email);
            }
        }

        function startPersonRSVP(wedding, name, email) {
            // Initialize current person response
            currentPersonResponse = {
                name: name,
                email: email,
                attending: null,
                starter: null,
                main: null,
                dessert: null,
                dietary: '',
                drinks: [],
                declineNote: ''
            };
            
            // Create and show person step
            createCurrentPersonStep(wedding);
            showCurrentPersonStep(wedding);
        }

        function createCurrentPersonStep(wedding) {
            const container = document.getElementById(wedding + 'PersonSteps');
            container.innerHTML = ''; // Clear previous steps
            
            const stepDiv = document.createElement('div');
            stepDiv.className = 'wizard-step active';
            stepDiv.id = `${wedding}CurrentPersonStep`;
            
            if (wedding === 'english') {
                stepDiv.innerHTML = `
                    <div class="person-indicator">RSVP for: <strong>${currentPersonResponse.name}</strong></div>
                    <div class="step-title">Will you be attending?</div>
                    <div class="attendance-buttons">
                        <div class="attendance-btn accept" onclick="selectCurrentAttendance('${wedding}', 'accept')">
                            Joyfully Accept
                        </div>
                        <div class="attendance-btn decline" onclick="selectCurrentAttendance('${wedding}', 'decline')">
                            Regretfully Decline
                        </div>
                    </div>
                    <div id="${wedding}CurrentAcceptQuestions" class="hidden">
                        <div class="form-group">
                            <label>Please pick a starter:</label>
                            <div class="menu-options">
                                <div class="menu-option" onclick="selectCurrentMenuOption('${wedding}', 'starter', 'Option 1')">Option 1</div>
                                <div class="menu-option" onclick="selectCurrentMenuOption('${wedding}', 'starter', 'Option 2')">Option 2</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Please pick a main:</label>
                            <div class="menu-options">
                                <div class="menu-option" onclick="selectCurrentMenuOption('${wedding}', 'main', 'Option 3')">Option 3</div>
                                <div class="menu-option" onclick="selectCurrentMenuOption('${wedding}', 'main', 'Option 4')">Option 4</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Please pick a dessert:</label>
                            <div class="menu-options">
                                <div class="menu-option" onclick="selectCurrentMenuOption('${wedding}', 'dessert', 'Option 4')">Option 4</div>
                                <div class="menu-option" onclick="selectCurrentMenuOption('${wedding}', 'dessert', 'Option 5')">Option 5</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="${wedding}CurrentDietary">Any dietary requirements?</label>
                            <textarea id="${wedding}CurrentDietary" rows="2" placeholder="Please let us know about any allergies or dietary requirements..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>What are your drink preferences for the reception?</label>
                            <div class="drink-options">
                                <div class="drink-option" onclick="toggleCurrentDrinkOption('${wedding}', 'Red Wine')">Red Wine</div>
                                <div class="drink-option" onclick="toggleCurrentDrinkOption('${wedding}', 'White Wine')">White Wine</div>
                                <div class="drink-option" onclick="toggleCurrentDrinkOption('${wedding}', 'Beer')">Beer</div>
                                <div class="drink-option" onclick="toggleCurrentDrinkOption('${wedding}', 'Non-alcoholic beverages only')">Non-alcoholic beverages only</div>
                                <div class="drink-option" onclick="toggleCurrentDrinkOption('${wedding}', 'No preference')">No preference</div>
                            </div>
                        </div>
                    </div>
                    <div id="${wedding}CurrentDeclineQuestions" class="hidden">
                        <div class="form-group">
                            <label for="${wedding}CurrentDeclineNote">Would you like to include a note to the couple?</label>
                            <textarea id="${wedding}CurrentDeclineNote" rows="3" placeholder="We'll miss you but understand..."></textarea>
                        </div>
                    </div>
                    <div class="wizard-buttons">
                        <button class="btn btn-secondary" onclick="goBackToInitial('${wedding}')">Previous</button>
                        <button class="btn" onclick="finishCurrentPerson('${wedding}')">Next</button>
                    </div>
                `;
            } else {
                stepDiv.innerHTML = `
                    <div class="person-indicator">RSVP for: <strong>${currentPersonResponse.name}</strong></div>
                    <div class="step-title">Will you be attending?</div>
                    <div class="attendance-buttons">
                        <div class="attendance-btn accept" onclick="selectCurrentAttendance('${wedding}', 'accept')">
                            Joyfully Accept
                        </div>
                        <div class="attendance-btn decline" onclick="selectCurrentAttendance('${wedding}', 'decline')">
                            Regretfully Decline
                        </div>
                    </div>
                    <div id="${wedding}CurrentAcceptQuestions" class="hidden">
                        <div class="buffet-notice">
                            <h4>Wedding Breakfast</h4>
                            <p>The wedding breakfast will be served as a buffet allowing you to help yourself to the dishes we have chosen. All dishes will be vegetarian.</p>
                        </div>
                        <div class="form-group">
                            <label for="${wedding}CurrentDietary">Any dietary requirements?</label>
                            <textarea id="${wedding}CurrentDietary" rows="2" placeholder="Please let us know about any allergies or dietary requirements..."></textarea>
                        </div>
                    </div>
                    <div id="${wedding}CurrentDeclineQuestions" class="hidden">
                        <div class="form-group">
                            <label for="${wedding}CurrentDeclineNote">Would you like to include a note to the couple?</label>
                            <textarea id="${wedding}CurrentDeclineNote" rows="3" placeholder="We'll miss you but understand..."></textarea>
                        </div>
                    </div>
                    <div class="wizard-buttons">
                        <button class="btn btn-secondary" onclick="goBackToInitial('${wedding}')">Previous</button>
                        <button class="btn" onclick="finishCurrentPerson('${wedding}')">Next</button>
                    </div>
                `;
            }
            
            container.appendChild(stepDiv);
        }

        function showCurrentPersonStep(wedding) {
            // Hide initial step and final step
            document.getElementById(wedding + 'Step1').classList.remove('active');
            document.getElementById(wedding + 'FinalStep').classList.remove('active');
            
            // Hide add another step if it exists
            const addAnotherStep = document.getElementById(wedding + 'AddAnotherStep');
            if (addAnotherStep) {
                addAnotherStep.classList.remove('active');
            }
            
            // Show current person step
            document.getElementById(`${wedding}CurrentPersonStep`).classList.add('active');
        }

        function selectCurrentAttendance(wedding, type) {
            const acceptBtn = document.querySelector(`#${wedding}CurrentPersonStep .attendance-btn.accept`);
            const declineBtn = document.querySelector(`#${wedding}CurrentPersonStep .attendance-btn.decline`);
            const acceptQuestions = document.getElementById(`${wedding}CurrentAcceptQuestions`);
            const declineQuestions = document.getElementById(`${wedding}CurrentDeclineQuestions`);
            
            // Reset buttons
            acceptBtn.classList.remove('selected');
            declineBtn.classList.remove('selected');
            acceptQuestions.classList.add('hidden');
            declineQuestions.classList.add('hidden');
            
            if (type === 'accept') {
                acceptBtn.classList.add('selected');
                acceptQuestions.classList.remove('hidden');
                currentPersonResponse.attending = 'Joyfully Accept';
            } else {
                declineBtn.classList.add('selected');
                declineQuestions.classList.remove('hidden');
                currentPersonResponse.attending = 'Regretfully Decline';
            }
        }

        function selectCurrentMenuOption(wedding, category, option) {
            const options = document.querySelectorAll(`#${wedding}CurrentPersonStep .menu-options .menu-option`);
            const categoryOptions = Array.from(options).filter(opt => 
                opt.parentElement.previousElementSibling.textContent.toLowerCase().includes(category)
            );
            
            categoryOptions.forEach(opt => opt.classList.remove('selected'));
            event.target.classList.add('selected');
            
            currentPersonResponse[category] = option;
        }

        function toggleCurrentDrinkOption(wedding, drink) {
            const option = event.target;
            option.classList.toggle('selected');
            
            if (!currentPersonResponse.drinks) {
                currentPersonResponse.drinks = [];
            }
            
            const drinks = currentPersonResponse.drinks;
            const index = drinks.indexOf(drink);
            
            if (index > -1) {
                drinks.splice(index, 1);
            } else {
                drinks.push(drink);
            }
        }

        function finishCurrentPerson(wedding) {
            // Validate current person's response
            if (!currentPersonResponse.attending) {
                alert('Please select whether you will be attending.');
                return;
            }
            
            if (currentPersonResponse.attending === 'Joyfully Accept') {
                if (wedding === 'english') {
                    if (!currentPersonResponse.starter || !currentPersonResponse.main || !currentPersonResponse.dessert) {
                        alert('Please make all meal selections.');
                        return;
                    }
                }
                currentPersonResponse.dietary = document.getElementById(`${wedding}CurrentDietary`).value;
            } else {
                currentPersonResponse.declineNote = document.getElementById(`${wedding}CurrentDeclineNote`).value;
            }
            
            // Add current person to responses
            allRsvpResponses.push({...currentPersonResponse});
            
            // Show "Add Another Person" step
            showAddAnotherStep(wedding);
        }

        function showAddAnotherStep(wedding) {
            // Hide current person step
            document.getElementById(`${wedding}CurrentPersonStep`).classList.remove('active');
            
            // Create or show add another step
            let addAnotherStep = document.getElementById(wedding + 'AddAnotherStep');
            if (!addAnotherStep) {
                addAnotherStep = document.createElement('div');
                addAnotherStep.className = 'wizard-step';
                addAnotherStep.id = wedding + 'AddAnotherStep';
                addAnotherStep.innerHTML = `
                    <div class="step-title">Is there anyone else you would like to RSVP for?</div>
                    <div class="person-indicator">You have completed ${allRsvpResponses.length} RSVP${allRsvpResponses.length > 1 ? 's' : ''}</div>
                    <div class="attendance-buttons">
                        <div class="attendance-btn accept" onclick="addAnotherPerson('${wedding}')">
                            Yes
                        </div>
                        <div class="attendance-btn decline" onclick="proceedToFinal('${wedding}')">
                            No
                        </div>
                    </div>
                    <div class="wizard-buttons">
                        <div></div>
                        <div></div>
                    </div>
                `;
                document.getElementById(wedding + 'PersonSteps').appendChild(addAnotherStep);
            }
            
            // Update the counter
            addAnotherStep.querySelector('.person-indicator').innerHTML = 
                `You have completed ${allRsvpResponses.length} RSVP${allRsvpResponses.length > 1 ? 's' : ''}`;
            
            addAnotherStep.classList.add('active');
        }

        function addAnotherPerson(wedding) {
            // Get new person details
            const name = prompt('Please enter the name of the person you want to RSVP for:');
            if (!name || !name.trim()) {
                return;
            }
            
            const email = prompt('Please enter their email address (or your email if RSVPing on their behalf):');
            if (!email || !email.trim()) {
                return;
            }
            
            // Start RSVP for new person
            startPersonRSVP(wedding, name.trim(), email.trim());
        }

        function proceedToFinal(wedding) {
            showFinalStep(wedding);
        }

        function goBackToInitial(wedding) {
            // Go back to initial step
            document.getElementById(`${wedding}CurrentPersonStep`).classList.remove('active');
            document.getElementById(wedding + 'Step1').classList.add('active');
            
            // Reset data
            allRsvpResponses = [];
            currentPersonResponse = {};
        }

        function startNewRSVP(wedding) {
            // Reset everything and go back to start
            allRsvpResponses = [];
            currentPersonResponse = {};
            
            // Clear form fields
            document.getElementById(wedding + 'SubmitterName').value = '';
            document.getElementById(wedding + 'SubmitterEmail').value = '';
            
            // Hide final step and show initial step
            document.getElementById(wedding + 'FinalStep').classList.remove('active');
            document.getElementById(wedding + 'Step1').classList.add('active');
            
            // Clear person steps
            document.getElementById(wedding + 'PersonSteps').innerHTML = '';
        }

        function showFinalStep(wedding) {
            // Hide add another step
            const addAnotherStep = document.getElementById(wedding + 'AddAnotherStep');
            if (addAnotherStep) {
                addAnotherStep.classList.remove('active');
            }
            
            // Show final step
            document.getElementById(wedding + 'FinalStep').classList.add('active');
            
            // Generate summary
            const summaryDiv = document.getElementById(wedding + 'RsvpSummary');
            let summaryHTML = `<h3>RSVP Summary (${allRsvpResponses.length} ${allRsvpResponses.length > 1 ? 'people' : 'person'})</h3>`;
            
            allRsvpResponses.forEach((response, index) => {
                summaryHTML += `<div style="margin-bottom: 1rem; padding: 1rem; background: var(--section-bg); border-radius: 10px;">`;
                summaryHTML += `<strong>${response.name}</strong> - ${response.attending}<br>`;
                summaryHTML += `<em>Email: ${response.email}</em><br>`;
                
                if (response.attending === 'Joyfully Accept') {
                    if (wedding === 'english') {
                        summaryHTML += `Starter: ${response.starter}<br>`;
                        summaryHTML += `Main: ${response.main}<br>`;
                        summaryHTML += `Dessert: ${response.dessert}<br>`;
                        if (response.drinks.length > 0) {
                            summaryHTML += `Drinks: ${response.drinks.join(', ')}<br>`;
                        }
                    }
                    if (response.dietary) {
                        summaryHTML += `Dietary: ${response.dietary}<br>`;
                    }
                } else if (response.declineNote) {
                    summaryHTML += `Note: ${response.declineNote}<br>`;
                }
                
                summaryHTML += `</div>`;
            });
            
            summaryDiv.innerHTML = summaryHTML;
        }

        // Updated submission functions
        function submitEnglishRSVP() {
            submitSimplifiedRSVP('english', 'https://formspree.io/f/mqadbbln');
        }

        function submitIndianRSVP() {
            submitSimplifiedRSVP('indian', 'https://formspree.io/f/mldwnnlv');
        }

        async function submitSimplifiedRSVP(wedding, endpoint) {
            const submitBtn = event.target;
            submitBtn.disabled = true;
            submitBtn.textContent = 'Submitting...';
            
            try {
                // Submit individual records for each person
                for (let i = 0; i < allRsvpResponses.length; i++) {
                    const response = allRsvpResponses[i];
                    const formData = new FormData();
                    
                    // Add custom formatted data for perfect CSV
                    formData.append('submission_date', new Date().toISOString());
                    formData.append('submitter_name', allRsvpResponses[0].name); // First person is the submitter
                    formData.append('submitter_email', allRsvpResponses[0].email);
                    formData.append('wedding_type', wedding === 'english' ? 'English Wedding' : 'Indian Wedding');
                    formData.append('guest_name', response.name);
                    formData.append('guest_email', response.email);
                    formData.append('attendance', response.attending);
                    formData.append('starter', response.starter || '');
                    formData.append('main', response.main || '');
                    formData.append('dessert', response.dessert || '');
                    formData.append('dietary', response.dietary || '');
                    formData.append('drinks', response.drinks ? response.drinks.join(', ') : '');
                    formData.append('decline_note', response.declineNote || '');
                    formData.append('total_in_submission', allRsvpResponses.length);
                    formData.append('_subject', `${wedding === 'english' ? 'English' : 'Indian'} Wedding RSVP - ${allRsvpResponses[0].name} (${allRsvpResponses.length} ${allRsvpResponses.length > 1 ? 'people' : 'person'})`);
                    formData.append('_captcha', 'false');
                    
                    await fetch(endpoint, {
                        method: 'POST',
                        body: formData,
                        headers: {
                            'Accept': 'application/json'
                        }
                    });
                }
                
                // Show success message
                document.getElementById(wedding + 'SuccessMessage').classList.remove('hidden');
                document.getElementById(wedding + 'RsvpWizard').style.display = 'none';
                
            } catch (error) {
                console.error('Error:', error);
                document.getElementById(wedding + 'ErrorMessage').classList.remove('hidden');
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Submit RSVP';
            }
        }

        // Initialize everything
        document.addEventListener('DOMContentLoaded', function() {
            updateCountdown('english');
            updateCountdown('indian');
            
            // Set up daily countdown updates
            setInterval(() => {
                updateCountdown('english');
                updateCountdown('indian');
            }, 86400000); // Update daily
        });

        // Handle browser back/forward buttons
        window.addEventListener('popstate', function() {
            if (sessionStorage.getItem('weddingAccess') === 'true') {
                checkURLForDirectAccess();
            }
        });
    </script>
</body>
</html>



